!function(){function e(e,o,t,n){Object.defineProperty(e,o,{get:t,set:n,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=o.parcelRequire1e7e;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,o){n[e]=o},o.parcelRequire1e7e=r);var i=r.register;i("7hG31",function(o,t){e(o.exports,"uriUserPage",function(){return i}),e(o.exports,"uriCollectionPage",function(){return l}),e(o.exports,"LevelPrivacy",function(){return a}),e(o.exports,"PRIVACY_BADGE_STYLE",function(){return d}),e(o.exports,"PRIVACY_BADGE_TEXT",function(){return c}),e(o.exports,"startLoader",function(){return s}),e(o.exports,"cancelLoader",function(){return u}),e(o.exports,"callJsonApi",function(){return p}),e(o.exports,"looksLikeMail",function(){return f}),e(o.exports,"activateGoHomeLink",function(){return m}),e(o.exports,"MEDIA_CONSTRAINTS",function(){return g});var n=r("72lX3");let i="/index.html?userid=",l="/index.html?collectionid=";Object.freeze({none:0,owner:1,admin:2,member:3,guest:4});let a=Object.freeze({public:1,onlyreg:2,private:3}),d={[a.public]:"badge-public",[a.onlyreg]:"badge-onlyreg",[a.private]:"badge-private"},c={[a.public]:"PUBLIC",[a.onlyreg]:"REG USERS",[a.private]:"PRIVATE"},s=e=>{let o=document.getElementById("loader");o.innerHTML=`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>&nbsp;${e}`,o.classList.remove("loader-hidden")},u=()=>{document.getElementById("loader").classList.add("loader-hidden")},p=async(e,o,t,r)=>{let i={method:o||"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};t&&(i.body=JSON.stringify(t));try{r&&s(r);let o=await fetch(n.ENDPOINT+e,i);r&&u();let t=await o.json();if(t&&!t.error)return t;return(null==t?void 0:t.error)||"An error occurred"}catch(e){return r&&u(),e}},f=e=>{let o=e.lastIndexOf("@"),t=e.lastIndexOf(".");return o<t&&o>0&&-1==e.indexOf("@@")&&t>2&&e.length-t>2},m=()=>{let e=document.getElementById("goHome");"localhost:80"===window.location.host||"http://localhost"===window.location.origin?e.href=window.location.origin+"/index.html":e.href=window.location.origin};/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let g={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,latency:0,channelCount:1}}}),i("72lX3",function(e,o){let t="STAGE",n={PROD:{ENDPOINT:"",UPLOAD_ENDPOINT:""},STAGE:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"},DEV:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"}};e.exports={ENDPOINT:n[t].ENDPOINT,UPLOAD_ENDPOINT:n[t].UPLOAD_ENDPOINT}});var l=r("7hG31");let a=new URLSearchParams(document.location.search).get("code");a?document.getElementById("inputrefusalcode").value=a:document.getElementById("code-refusal-container").hidden=!1;let d=async()=>{let e=document.getElementById("inputemailtoremove").value;if((0,l.looksLikeMail)(e)){let o=document.getElementById("inputrefusalcode").value,t=await (0,l.callJsonApi)("/refuseinvitation","POST",{email:e,refusal_code:o},"Sending request...");t.ok?(alert("Your information has been sucessfully removed."),window.location.href=window.location.origin):alert(t)}else document.getElementById("inputemailtoremove").classList.add("is-invalid"),document.getElementById("validationEmailResult").innerText="Sorry, invalid email address format."};(0,l.activateGoHomeLink)(),document.getElementById("requestremovalbutton").onclick=d,(0,l.cancelLoader)()}();
//# sourceMappingURL=refusal.fb85fc3c.js.map
