{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,ECGA,IAAM,EAAe,CACjB,KAAK,CACD,SAAS,GACT,gBAAgB,EACpB,EACA,MAAM,CACF,SAAU,OAAO,QAAQ,CAAC,QAAQ,CAAC,KAAK,OAAO,QAAQ,CAAC,IAAI,CAC5D,gBAAiB,OAAO,QAAQ,CAAC,QAAQ,CAAC,KAAK,OAAO,QAAQ,CAAC,IAAI,CAAC,aACxE,EACA,IAAI,CACA,SAAS,OAAO,QAAQ,CAAC,QAAQ,CAAC,KAAK,OAAO,QAAQ,CAAC,QAAQ,CAAtD,QACT,gBAAgB,OAAO,QAAQ,CAAC,QAAQ,CAAC,KAAK,OAAO,QAAQ,CAAC,QAAQ,CAAtD,kBACpB,CACJ,CAEA,CAAA,EAAA,OAAA,CAAiB,CACb,SAAU,EAnBD,GAmBmB,CAAC,QAAQ,CACrC,gBAAiB,EApBR,GAoB0B,CAAC,eAAe,AACvD,C,G,E,Q,S,C,C,C,E,E,E,O,C,iB,I,G,E,E,O,C,c,I,G,E,E,O,C,oB,I,G,E,E,O,C,e,I,G,E,E,O,C,sB,I,G,E,E,O,C,qB,I,G,E,E,O,C,c,I,G,E,E,O,C,e,I,G,E,E,O,C,c,I,G,E,E,O,C,gB,I,G,E,E,O,C,qB,I,G,E,E,O,C,W,I,G,I,E,E,SCnBO,IAAM,EAAiB,SAEjB,EAAc,sBACd,EAAoB,4BAET,OAAO,MAAM,CAAC,CAClC,KAAO,EACP,MAAQ,EACR,MAAQ,EACR,OAAS,EACT,MAAQ,CACZ,GAEO,IAAM,EAAe,OAAO,MAAM,CAAC,CACtC,OAAS,EACT,QAAU,EACV,QAAU,CACd,GAEa,EAAsB,CAAC,CAAC,EAAa,MAAM,CAAC,CAAG,eAAgB,CAAC,EAAa,OAAO,CAAC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","sources":["<anon>","src/common/js/config.js","src/common/js/utils.js","src/common/js/acceptterms.js","src/common/js/collectionshandler.js","src/pages/home/scripts/newcreation.js","src/pages/home/scripts/home.js","src/pages/home/scripts/breadcrumbhandler.js","src/pages/home/scripts/home_ui.js","src/pages/home/scripts/home_helper.js","src/pages/home/scripts/editcollections.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire1e7e\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire1e7e\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"9QUIF\", function(module, exports) {\nconst $72c4f7ae54bd3a1f$var$MODE = \"DEV\" // STAGE\n;\nconst $72c4f7ae54bd3a1f$var$DEVPORT = 7007;\nconst $72c4f7ae54bd3a1f$var$ENVIRONMENTS = {\n    PROD: {\n        ENDPOINT: \"\",\n        UPLOAD_ENDPOINT: \"\"\n    },\n    STAGE: {\n        ENDPOINT: window.location.protocol + \"//\" + window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol + \"//\" + window.location.host + \"/fileUpload\"\n    },\n    DEV: {\n        ENDPOINT: window.location.protocol + \"//\" + window.location.hostname + \":\" + $72c4f7ae54bd3a1f$var$DEVPORT,\n        UPLOAD_ENDPOINT: window.location.protocol + \"//\" + window.location.hostname + \":\" + $72c4f7ae54bd3a1f$var$DEVPORT + \"/fileUpload\"\n    }\n};\nmodule.exports = {\n    ENDPOINT: $72c4f7ae54bd3a1f$var$ENVIRONMENTS[$72c4f7ae54bd3a1f$var$MODE].ENDPOINT,\n    UPLOAD_ENDPOINT: $72c4f7ae54bd3a1f$var$ENVIRONMENTS[$72c4f7ae54bd3a1f$var$MODE].UPLOAD_ENDPOINT\n};\n\n});\n\nparcelRegister(\"ck9ES\", function(module, exports) {\n\n$parcel$export(module.exports, \"LOADER_ELEM_ID\", () => $8f8ed8369fbedf5d$export$29456ccb00e38680);\n$parcel$export(module.exports, \"uriUserPage\", () => $8f8ed8369fbedf5d$export$ff3ad29dbb546598);\n$parcel$export(module.exports, \"uriCollectionPage\", () => $8f8ed8369fbedf5d$export$36dfaec04418caa7);\n$parcel$export(module.exports, \"LevelPrivacy\", () => $8f8ed8369fbedf5d$export$a3c073b335a47d60);\n$parcel$export(module.exports, \"PRIVACY_BADGE_STYLE\", () => $8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3);\n$parcel$export(module.exports, \"PRIVACY_BADGE_TEXT\", () => $8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f);\n$parcel$export(module.exports, \"startLoader\", () => $8f8ed8369fbedf5d$export$8afc507ca675ea0e);\n$parcel$export(module.exports, \"cancelLoader\", () => $8f8ed8369fbedf5d$export$81e46b314cb8d8e3);\n$parcel$export(module.exports, \"callJsonApi\", () => $8f8ed8369fbedf5d$export$997d30e836e5c567);\n$parcel$export(module.exports, \"looksLikeMail\", () => $8f8ed8369fbedf5d$export$706cf9fcefe67c8e);\n$parcel$export(module.exports, \"activateGoHomeLink\", () => $8f8ed8369fbedf5d$export$3fc781af82c0c660);\n$parcel$export(module.exports, \"isSafari\", () => $8f8ed8369fbedf5d$export$95df08bae54cb4df);\n\nvar $9QUIF = parcelRequire(\"9QUIF\");\nconst $8f8ed8369fbedf5d$export$29456ccb00e38680 = \"loader\";\nconst $8f8ed8369fbedf5d$export$ff3ad29dbb546598 = \"/index.html?userid=\";\nconst $8f8ed8369fbedf5d$export$36dfaec04418caa7 = \"/index.html?collectionid=\";\nconst $8f8ed8369fbedf5d$export$eb3485a690c2f0b8 = Object.freeze({\n    none: 0,\n    owner: 1,\n    admin: 2,\n    member: 3,\n    guest: 4\n});\nconst $8f8ed8369fbedf5d$export$a3c073b335a47d60 = Object.freeze({\n    public: 1,\n    onlyreg: 2,\n    private: 3\n});\nconst $8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3 = {\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.public]: \"badge-public\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.onlyreg]: \"badge-onlyreg\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.private]: \"badge-private\"\n};\nconst $8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f = {\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.public]: \"PUBLIC\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.onlyreg]: \"REG USERS\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.private]: \"PRIVATE\"\n};\nconst $8f8ed8369fbedf5d$export$8afc507ca675ea0e = (loaderId, loadingMessage)=>{\n    const loaderElement = document.getElementById(loaderId);\n    loaderElement.nextElementSibling.textContent = loadingMessage;\n    loaderElement.classList.add(loaderId);\n};\nconst $8f8ed8369fbedf5d$export$81e46b314cb8d8e3 = (loaderId)=>{\n    const loaderElement = document.getElementById(loaderId);\n    loaderElement.classList.remove(loaderId);\n    loaderElement.nextElementSibling.textContent = \"\";\n};\nconst $8f8ed8369fbedf5d$export$997d30e836e5c567 = async (apimethod, rqstmethod, body)=>{\n    const request = {\n        method: rqstmethod || \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        }\n    };\n    if (body) request.body = JSON.stringify(body);\n    try {\n        $8f8ed8369fbedf5d$export$8afc507ca675ea0e($8f8ed8369fbedf5d$export$29456ccb00e38680, \"Loading...\");\n        const sendRqst = await fetch((0, $9QUIF.ENDPOINT) + apimethod, request);\n        $8f8ed8369fbedf5d$export$81e46b314cb8d8e3($8f8ed8369fbedf5d$export$29456ccb00e38680);\n        const respToJson = await sendRqst.json();\n        if (respToJson && !respToJson.error) return respToJson;\n        else return respToJson?.error || \"An error occurred\";\n    } catch (error) {\n        $8f8ed8369fbedf5d$export$81e46b314cb8d8e3($8f8ed8369fbedf5d$export$29456ccb00e38680);\n        return error;\n    }\n};\nconst $8f8ed8369fbedf5d$export$706cf9fcefe67c8e = (str)=>{\n    const lastAtPos = str.lastIndexOf(\"@\");\n    const lastDotPos = str.lastIndexOf(\".\");\n    return lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf(\"@@\") == -1 && lastDotPos > 2 && str.length - lastDotPos > 2;\n};\nconst $8f8ed8369fbedf5d$export$3fc781af82c0c660 = ()=>{\n    const goHomeLink = document.getElementById(\"goHome\");\n    if (window.location.host === \"localhost:80\" || window.location.origin === \"http://localhost\") goHomeLink.href = window.location.origin + \"/index.html\";\n    else goHomeLink.href = window.location.origin;\n};\nconst $8f8ed8369fbedf5d$export$95df08bae54cb4df = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n});\n\nparcelRegister(\"hcAI8\", function(module, exports) {\n\n$parcel$export(module.exports, \"checkIfTermsAccepted\", () => $c86008aa1df30816$export$207bec4913bdffa6);\n$parcel$export(module.exports, \"generateAcceptTermsModal\", () => $c86008aa1df30816$export$7ed6abee26b8c64b);\n\nvar $ck9ES = parcelRequire(\"ck9ES\");\nconst $c86008aa1df30816$export$207bec4913bdffa6 = (userprofile, callback)=>{\n    (0, $ck9ES.cancelLoader)((0, $ck9ES.LOADER_ELEM_ID));\n    callback(userprofile?.terms_accepted);\n};\nconst $c86008aa1df30816$export$95d7694256f75341 = ()=>{\n    $(\"#acceptTermsModal\").modal({\n        backdrop: \"static\",\n        keyboard: false // to prevent closing with Esc button (if you want this too)\n    });\n    $(\"#acceptTermsModal\").modal(\"show\");\n    document.getElementById(\"buttonAcceptTerms\").onclick = $c86008aa1df30816$var$rqstAcceptTerms;\n    document.getElementById(\"buttonRejectTerms\").onclick = $c86008aa1df30816$var$rqstRejectTerms;\n};\nconst $c86008aa1df30816$var$rqstAcceptTerms = async ()=>{\n    const data = await (0, $ck9ES.callJsonApi)(\"/acceptterms\", \"PUT\");\n    if (data.ok) $(\"#acceptTermsModal\").modal(\"hide\");\n};\nconst $c86008aa1df30816$var$rqstRejectTerms = async ()=>{\n    const data = await (0, $ck9ES.callJsonApi)(\"/rejectterms\", \"PUT\");\n    if (data.ok) {\n        $(\"#acceptTermsModal\").modal(\"hide\");\n        window.location.href = window.location.origin;\n    }\n};\nconst $c86008aa1df30816$export$7ed6abee26b8c64b = (attachToElem)=>{\n    const isModal = document.getElementById(\"acceptTermsModal\");\n    if (!isModal) {\n        const modalDialog = `<div class=\"modal fade\" id=\"acceptTermsModal\" tabindex=\"-1\" role=\"dialog\">\n            <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Accept Terms</h5>                \n                </div>\n                <div class=\"modal-body\">\n                <p>By clicking on OK you accept the Terms of Use.</p>\n                <p>More information at: <span> <a href=\"${window.location.origin}/static/terms.html\" target=\"_blank\">${window.location.origin}/static/terms.html</a></span></p>\n                </div>\n                <div class=\"modal-footer\">\n                <button id=\"buttonRejectTerms\" type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Reject</button>\n                <button id=\"buttonAcceptTerms\" type=\"button\" class=\"btn btn-primary\">OK</button>\n                </div>\n            </div>\n            </div>\n        </div>`;\n        document.getElementsByTagName(attachToElem)[0].insertAdjacentHTML(\"afterend\", modalDialog);\n    }\n    $c86008aa1df30816$export$95d7694256f75341();\n};\n\n});\n\nparcelRegister(\"lRrDz\", function(module, exports) {\n\n$parcel$export(module.exports, \"getCollections\", () => $fea3fc654cae5a2c$export$a9dbfb18603d6a77);\n$parcel$export(module.exports, \"getCollectionsError\", () => $fea3fc654cae5a2c$export$66d4708c2e689cee);\n$parcel$export(module.exports, \"createListCollections\", () => $fea3fc654cae5a2c$export$5a676dd14dd0be2c);\n\nvar $9QUIF = parcelRequire(\"9QUIF\");\nconst $fea3fc654cae5a2c$export$a9dbfb18603d6a77 = async ()=>{\n    const response = await fetch((0, $9QUIF.ENDPOINT) + \"/mycollections\");\n    let result = null;\n    if (response?.ok) {\n        const respJson = await response.json();\n        result = respJson;\n    }\n    return result;\n};\nconst $fea3fc654cae5a2c$export$66d4708c2e689cee = ()=>{\n    alert(`Problem getting collections`);\n};\nconst $fea3fc654cae5a2c$export$5a676dd14dd0be2c = (collections, listId, coll_id)=>{\n    const theList = collections.all_collections;\n    const listCollContainer = document.getElementById(listId);\n    let listOptions = `<option value='0'>...</option>`;\n    let selected = null;\n    theList.forEach((element)=>{\n        if (element) {\n            if (element.uuid === coll_id) selected = \"selected>\";\n            else selected = null;\n            const template = `<option value='${element.uuid}' ${selected ? selected : \">\"}${element.title}</option>`;\n            listOptions += template;\n        }\n    });\n    const listElelemts = `<select class='custom-select' id='inputGroupSelectCollect'>${listOptions}</select>`;\n    listCollContainer.insertAdjacentHTML(\"afterbegin\", listElelemts);\n};\n\n});\n\n\nvar $9QUIF = parcelRequire(\"9QUIF\");\n\nvar $ck9ES = parcelRequire(\"ck9ES\");\n\nconst $9ddbe2ce5d0641a0$export$184163c68675dcce = (isauth, isuserorcollection)=>{\n    $9ddbe2ce5d0641a0$var$createBreadCrumbNavBar(isauth, isuserorcollection);\n    document.querySelectorAll(\".breadcrumb-item a\").forEach(function(element) {\n        element.addEventListener(\"click\", function(event) {\n            event.preventDefault();\n            document.querySelector(\".active-breadcrumb\")?.classList.remove(\"active-breadcrumb\");\n            event.currentTarget.classList.add(\"active-breadcrumb\");\n            let section = event.currentTarget.getAttribute(\"data-section\");\n            $9ddbe2ce5d0641a0$export$ff7962acd6052c28(section);\n        });\n    });\n};\nconst $9ddbe2ce5d0641a0$var$createBreadCrumbNavBar = (isauth, isuserorcollection)=>{\n    const navBar = document.getElementById(\"breadcrumbnavbar\");\n    let userOptions = \"\";\n    if (isauth.ok) userOptions = `<li class='breadcrumb-item ${isuserorcollection ? \"\" : \"active-breadcrumb\"}' aria-current='page'><a href='#' data-section='my-comp'>My Music</a></li>\n        <li class='breadcrumb-item'><a href='#' data-section='all-comp'>All</a></li>`;\n    else userOptions = `<li class='breadcrumb-item ${isuserorcollection ? \"\" : \"active-breadcrumb\"}' aria-current='page'><a href='#' data-section='recent-comp'>Recent</a></li>\n        <li class='breadcrumb-item'><a href='#' data-section='all-comp'>All</a></li>`;\n    navBar.innerHTML = userOptions;\n};\nfunction $9ddbe2ce5d0641a0$export$ff7962acd6052c28(section) {\n    const url = new URL(window.location.href);\n    url.searchParams.delete(\"userid\");\n    url.searchParams.delete(\"collectionid\");\n    history.replaceState(null, null, url);\n    switch(section){\n        case \"recent-comp\":\n            (0, $cbb11aa408cc55db$export$8d85b36da8527a05)();\n            break;\n        case \"my-comp\":\n            (0, $cbb11aa408cc55db$export$b99e48ec291af6c0)();\n            break;\n        case \"all-comp\":\n            document.getElementById(\"initialmessage\").classList.remove(\"d-flex\");\n            document.getElementById(\"initialmessage\").hidden = true;\n            (0, $cbb11aa408cc55db$export$556539c2d93a797d)();\n            break;\n        default:\n            console.log(\"section default\");\n    }\n}\n\n\n\nvar $hcAI8 = parcelRequire(\"hcAI8\");\n\nlet $0eda0ef69e92e3bb$var$_USERNAME = null;\nconst $0eda0ef69e92e3bb$export$1badf4b56a2f2c08 = (endpoint)=>{\n    let result = false;\n    if (endpoint === \"/mycompositions\" || endpoint.includes(\"/compositionsbyuserid/\") || endpoint.includes(\"/collectionastreebyid/\")) result = true;\n    return result;\n};\nconst $0eda0ef69e92e3bb$var$getCurrentUserName = ()=>{\n    return $0eda0ef69e92e3bb$var$_USERNAME;\n};\nconst $0eda0ef69e92e3bb$export$149136365741a43c = (username)=>{\n    $0eda0ef69e92e3bb$var$_USERNAME = username;\n};\nconst $0eda0ef69e92e3bb$export$a04c3fad920d835e = (endpoint, username)=>{\n    let displayName = false;\n    if (!$0eda0ef69e92e3bb$export$1badf4b56a2f2c08(endpoint)) displayName = true;\n    else displayName = username !== $0eda0ef69e92e3bb$var$getCurrentUserName();\n    return displayName;\n};\nconst $0eda0ef69e92e3bb$var$getGroupsByCollAndUser = (compositionsList)=>{\n    const groupedbycoll = {};\n    const groupedbyuser_aux = {};\n    compositionsList.forEach((composition)=>{\n        const collectionId = composition.collection_uid;\n        const userId = composition.user_id;\n        if (collectionId !== null) {\n            if (!groupedbycoll[collectionId]) groupedbycoll[collectionId] = [];\n            groupedbycoll[collectionId].push(composition);\n        } else {\n            if (!groupedbyuser_aux[userId]) groupedbyuser_aux[userId] = [];\n            groupedbyuser_aux[userId].push(composition);\n        }\n    });\n    return {\n        groupedbycoll: groupedbycoll,\n        groupedbyuser_aux: groupedbyuser_aux\n    };\n};\nconst $0eda0ef69e92e3bb$var$getGroupsByCollectionAndSubColl = (compositionsList, parent_coll_id)=>{\n    const groupedbycoll = {};\n    const singlecomps = [];\n    compositionsList.forEach((composition)=>{\n        const collectionId = composition.collection_uid;\n        if (collectionId !== null && collectionId !== parent_coll_id) {\n            if (!groupedbycoll[collectionId]) groupedbycoll[collectionId] = [];\n            groupedbycoll[collectionId].push(composition);\n        } else singlecomps.push(composition);\n    });\n    return {\n        groupedbycoll: groupedbycoll,\n        singlecomps: singlecomps\n    };\n};\nconst $0eda0ef69e92e3bb$var$getGroupsByCollAndCollab = (compositionsList)=>{\n    const groupedbycoll = {};\n    const groupedbycollab = {};\n    const singlecomps = [];\n    compositionsList.forEach((composition)=>{\n        const collectionId = composition.collection_uid;\n        if (collectionId !== null) {\n            if (!groupedbycoll[collectionId]) groupedbycoll[collectionId] = [];\n            groupedbycoll[collectionId].push(composition);\n        } else if (composition.contributors.length) {\n            if (!groupedbycollab[\"collabs\"]) groupedbycollab[\"collabs\"] = [];\n            groupedbycollab[\"collabs\"].push(composition);\n        } else singlecomps.push(composition);\n    });\n    return {\n        groupedbycoll: groupedbycoll,\n        groupedbycollab: groupedbycollab,\n        singlecomps: singlecomps\n    };\n};\n// INFO: a group for a User is made if he has 2 or more compositions without Collection\nconst $0eda0ef69e92e3bb$var$getFinalGroupByUserAndSingleComp = (groupedbyuser_aux)=>{\n    const groupedbyuser_final = {};\n    const singlecomps = [];\n    for(const elem in groupedbyuser_aux)if (groupedbyuser_aux[elem].length === 1) singlecomps.push(groupedbyuser_aux[elem][0]);\n    else {\n        if (!groupedbyuser_final[elem]) groupedbyuser_final[elem] = [];\n        groupedbyuser_final[elem] = groupedbyuser_aux[elem];\n    }\n    return {\n        singlecomps: singlecomps,\n        groupedbyuser_final: groupedbyuser_final\n    };\n};\nconst $0eda0ef69e92e3bb$export$2095d3815b0f7547 = (compositionsList)=>{\n    const { groupedbycoll: groupedbycoll, groupedbyuser_aux: groupedbyuser_aux } = $0eda0ef69e92e3bb$var$getGroupsByCollAndUser(compositionsList);\n    const { singlecomps: singlecomps, groupedbyuser_final: groupedbyuser_final } = $0eda0ef69e92e3bb$var$getFinalGroupByUserAndSingleComp(groupedbyuser_aux);\n    return {\n        groupedbycoll: groupedbycoll,\n        groupedbyuser_final: groupedbyuser_final,\n        singlecomps: singlecomps\n    };\n};\nconst $0eda0ef69e92e3bb$export$6d37f804b553eac7 = (compositionsList)=>{\n    const { groupedbycoll: groupedbycoll, groupedbycollab: groupedbycollab, singlecomps: singlecomps } = $0eda0ef69e92e3bb$var$getGroupsByCollAndCollab(compositionsList);\n    return {\n        groupedbycoll: groupedbycoll,\n        groupedbycollab: groupedbycollab,\n        singlecomps: singlecomps\n    };\n};\nconst $0eda0ef69e92e3bb$export$46ab7a802f6f7711 = (compositionsList, parent_coll_id)=>{\n    const { groupedbycoll: groupedbycoll, singlecomps: singlecomps } = $0eda0ef69e92e3bb$var$getGroupsByCollectionAndSubColl(compositionsList, parent_coll_id);\n    return {\n        groupedbycoll: groupedbycoll,\n        singlecomps: singlecomps\n    };\n};\n\n\n\nvar $ck9ES = parcelRequire(\"ck9ES\");\nconst $f24241b8655841c9$var$CARD_BADGE_STYLE = {\n    \"coll\": \"badge-collection\",\n    \"user\": \"badge-warning\",\n    \"collab\": \"badge-collab\"\n};\nconst $f24241b8655841c9$var$CARD_BORDER_STYLE = {\n    \"coll\": \"border-collection\",\n    \"user\": \"border-warning\",\n    \"collab\": \"border-collab\"\n};\nconst $f24241b8655841c9$var$URI_PAGE = {\n    \"coll\": (0, $ck9ES.uriCollectionPage),\n    \"user\": (0, $ck9ES.uriUserPage)\n};\nconst $f24241b8655841c9$var$WELCOME_TEXT = \"We present Hi-Audio Online Platform a web application for musicians, researchers and an open community of enthusiasts of audio and music with a view to build a public database of music recordings from a wide variety of styles and different cultures.\";\nconst $f24241b8655841c9$export$c1504dbc5bdba629 = ()=>{\n    document.getElementById(\"userlogin\").innerHTML = `<li class='nav-item'>\n        <a class='dropdown-item' href='${window.location.origin}/login.html'>Register / Login</a>\n    </li>\n    <li class='nav-item'>\n        <a class='dropdown-item' href='${0, $cbb11aa408cc55db$export$5e4b5ab8660ba9d5}demopage'>Test DAW</a>\n    </li>`;\n    document.getElementById(\"useroptions\").innerHTML = `<li class='nav-item'>\n      <a class='nav-link' href='${window.location.origin + \"/profile.html\"}'>Profile <i id='display_profile_name'></i></a>\n    </li>\n    <li class='nav-item'>\n          <a class='nav-link' href='#' id='createNewButton' data-toggle='modal' data-target='#newMusicModal'>/ Create new</a>\n    </li>\n    <li class='nav-item'>\n        <a class='nav-link' href='#' id='openMyCollectionsButton' data-toggle='modal' data-target='#editCollectionsModal'>/ My Collections</a>\n    </li>`;\n};\nconst $f24241b8655841c9$export$bca9dffb57f7792b = (numberGroupsByCollections, numberGroupsCustom, numberSinglComp, endpoint, totalcomps)=>{\n    const displayGroupsByLabel = numberGroupsByCollections || !(0, $0eda0ef69e92e3bb$export$1badf4b56a2f2c08)(endpoint) && numberGroupsCustom || numberSinglComp;\n    return `<ul class=\"nav justify-content-end\">\n              ${displayGroupsByLabel ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-light\">Groups by:&nbsp;</span></h4></li>' : \"\"}\n              ${numberGroupsByCollections ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-collection\">Collections&nbsp;<span class=\"badge badge-light\">' + numberGroupsByCollections + \"</span></span></h4></li>\" : \"\"}            \n              ${!(0, $0eda0ef69e92e3bb$export$1badf4b56a2f2c08)(endpoint) && numberGroupsCustom ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-warning\">Users&nbsp;<span class=\"badge badge-light\">' + numberGroupsCustom + \"</span></span></h4></li>\" : \"\"}\n              ${numberSinglComp ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-success\">Singles&nbsp;<span class=\"badge badge-light\">' + numberSinglComp + \"</span></span></h4></li>\" : \"\"}\n              <li class=\"legenditem nav-item\"><h4><span class=\"badge badge-light\">Total compositions:&nbsp;</span><span class=\"badge badge-light\">${totalcomps}</span></h4></li>\n            </ul>`;\n};\nconst $f24241b8655841c9$export$1f60eb8703988013 = (listElelemts, legendButtons)=>{\n    document.getElementById(\"grid\").innerHTML = \"\";\n    document.getElementById(\"grid\").insertAdjacentHTML(\"afterbegin\", listElelemts);\n    document.getElementById(\"legendbuttons\").innerHTML = \"\";\n    document.getElementById(\"legendbuttons\").insertAdjacentHTML(\"afterbegin\", legendButtons);\n    document.getElementById(\"searchInput\").removeAttribute(\"disabled\");\n};\nconst $f24241b8655841c9$export$971becedf6ebeceb = (element, endpoint)=>{\n    const displayName = (0, $0eda0ef69e92e3bb$export$a04c3fad920d835e)(endpoint, element.username);\n    const displayNumCollabs = element.contributors.length;\n    return `<div class='card border-success'>                       \n              <div class=\"card-body\">\n              ${(0, $cbb11aa408cc55db$export$4cd34456ac1eb639) ? `<span class=\"badge ${(0, $ck9ES.PRIVACY_BADGE_STYLE)[element.privacy]}\">${(0, $ck9ES.PRIVACY_BADGE_TEXT)[element.privacy]}</span>` : \"\"}\n              ${element.opentocontrib ? '<p class=\"badge badge-info\">OPEN TO CONTRIB</p>' : \"\"}               \n                  <div>\n                    <p class=\"list-group-item-heading\">  \n                      <a href='${(0, $cbb11aa408cc55db$export$5e4b5ab8660ba9d5) + element.uuid}' class='card-url'>\n                        <h5 class='card-title'>${element.title}</h5>\n                      </a>\n                    </p>\n                    <p class='card-text text-truncate'>${element.description || \"\"}</p>\n                    <p class='text-black-50'>${displayNumCollabs ? \"Collaborators: \" + displayNumCollabs : \"\"}</p>\n                    ${displayName ? `<span class=\"d-inline-block text-truncate\" style=\"max-width: 250px;\">\n                    <i class='fa fa-user'></i>&nbsp;\n                    <a href='${(0, $ck9ES.uriUserPage) + element.owner_uuid}' class='card-url'>\n                      ${element.username}&nbsp;\n                    </a>\n                  </span>` : \"\"}\n                    <span class=\"d-inline-block text-truncate\" style=\"max-width: 250px;\">\n                      <i class='fa fa-music'></i>&nbsp;${\"Tracks: \" + element.tracks?.length}\n                    </span>                  \n                  </div>                \n              </div>            \n          </div>`;\n};\nconst $f24241b8655841c9$export$cbdc54c51b649c98 = (item, typebadge, endpoint)=>{\n    const displayName = (0, $0eda0ef69e92e3bb$export$a04c3fad920d835e)(endpoint, item.username);\n    const displayNumCollabs = item.contributors.length;\n    return `<div class=\"list-group-item \">\n              ${(0, $cbb11aa408cc55db$export$4cd34456ac1eb639) ? `<span class=\"badge ${(0, $ck9ES.PRIVACY_BADGE_STYLE)[item.privacy]}\">${(0, $ck9ES.PRIVACY_BADGE_TEXT)[item.privacy]}</span>` : \"\"}\n              ${item.opentocontrib ? '<span class=\"badge badge-info\">OPEN TO CONTRIB</span>' : \"\"}  \n              <p class=\"list-group-item-heading\">\n                <a href='${(0, $cbb11aa408cc55db$export$5e4b5ab8660ba9d5) + item.uuid}' class='card-url'>\n                    <h5 class='card-title'>${item.title}</h5>\n                </a>\n              </p>\n              <p class='text-black-50'>${displayNumCollabs ? \"Collaborators: \" + displayNumCollabs : \"\"}</p>\n              <p class=\"list-group-item-text text-truncate\">\n                ${item.description || \"\"}\n              </p>\n              ${typebadge !== \"user\" && displayName ? '<span class=\"d-inline-block text-truncate\" style=\"max-width: 220px;\"><i class=\"fa fa-user\"></i>&nbsp;<a href=' + (0, $ck9ES.uriUserPage) + item.owner_uuid + ' class=\"card-url\">' + item.username + \"&nbsp;\" + \"</a>\" + \"</span>\" : \"\"}            \n              <span class=\"d-inline-block text-truncate\" style=\"max-width: 200px;\">\n                <i class='fa fa-music'></i>&nbsp;${\"Tracks: \" + item.tracks?.length}\n              </span>\n            </div>`;\n};\nconst $f24241b8655841c9$export$da2a595be284078a = (typebadge, numitems, groupTitle, groupId, listgroup)=>{\n    const badegstyle = $f24241b8655841c9$var$CARD_BADGE_STYLE[typebadge];\n    const borderstyle = $f24241b8655841c9$var$CARD_BORDER_STYLE[typebadge];\n    const url = $f24241b8655841c9$var$URI_PAGE[typebadge];\n    const badgeDisplayed = `<span class=\"badge ${badegstyle} d-inline-block text-truncate\" style=\"max-width:85%;\">\n                              <span class=\"badge badge-light\">${numitems}</span>&nbsp;\n                              ${url ? `<a href=${url + groupId} class=\"card-header-url\">${groupTitle}</a>` : `${groupTitle}`}                              \n                          </span>`;\n    return `<div class='card ${borderstyle}'>                        \n              <h4>${badgeDisplayed}</h4>        \n              <div class=\"card-body\">\n                <div class=\"list-group border\">              \n                  ${listgroup}\n                </div>\n              </div>\n            </div>`;\n};\nconst $f24241b8655841c9$export$2ccaa4a069104255 = (hidetext)=>{\n    const welcomecontainer = document.getElementById(\"welcomecontainer\");\n    if (welcomecontainer.lastChild?.id) welcomecontainer.removeChild(welcomecontainer.lastChild);\n    if (!hidetext) {\n        const welcometextelem = document.createElement(\"div\");\n        welcometextelem.id = \"welcometext\";\n        welcometextelem.classList.add(\"col-sm-6\");\n        welcometextelem.classList.add(\"mx-auto\");\n        welcometextelem.innerHTML = `<em>${$f24241b8655841c9$var$WELCOME_TEXT}</em>`;\n        document.getElementById(\"welcomecontainer\").appendChild(welcometextelem);\n    }\n};\nconst $f24241b8655841c9$export$206832d47f4d1079 = (collectiontitle, username, owner_uuid)=>{\n    $f24241b8655841c9$export$2ccaa4a069104255(true);\n    const collectionInfoContainer = document.createElement(\"div\");\n    collectionInfoContainer.id = \"infocontainer\";\n    collectionInfoContainer.innerHTML = `<div class=\"card border-collection mb-3\">\n                                          <div class=\"card-header bg-transparent border-collection\"><b>Collection</b></div>\n                                          <div class=\"card-body text-dark\">\n                                            <h5 class=\"card-title\">${collectiontitle}</h5>\n                                            <p class=\"card-text\" style=\"width:300px;\">Owner: <a href=${(0, $ck9ES.uriUserPage) + owner_uuid} class=\"card-url\">${username}</a></p>\n                                          </div>\n                                        </div>`;\n    document.getElementById(\"welcomecontainer\").appendChild(collectionInfoContainer);\n};\nconst $f24241b8655841c9$export$b8abf8ca7249a7d2 = (username, useruid)=>{\n    $f24241b8655841c9$export$2ccaa4a069104255(true);\n    const userInfoContainer = document.createElement(\"div\");\n    userInfoContainer.id = \"infocontainer\";\n    userInfoContainer.innerHTML = `<div class=\"card mb-3\" style=\"max-width: 540px;\">\n                                    <div class=\"row no-gutters\">\n                                      <div class=\"col-md-4\">\n                                        <img class=\"img-fluid\" src=\"https://picsum.photos/seed/${useruid}/200\" alt=\"User Picture\">\n                                      </div>\n                                      <div class=\"col-md-8\">\n                                        <div class=\"card-body\">\n                                          <h5 class=\"card-title\">User</h5>\n                                          <p class=\"card-text\" style=\"width:300px;\">${username ? `${username}` : \"\"}</p>                                        \n                                          <p class=\"card-text\"><small class=\"text-muted\"></small></p>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>`;\n    document.getElementById(\"welcomecontainer\").appendChild(userInfoContainer);\n};\n\n\n\nconst $cbb11aa408cc55db$export$5e4b5ab8660ba9d5 = \"/composition.html?compositionId=\";\nlet $cbb11aa408cc55db$export$4cd34456ac1eb639 = false;\nconst $cbb11aa408cc55db$var$homePageTermsAccepted = (termsAccepted)=>{\n    if (!termsAccepted) (0, $hcAI8.generateAcceptTermsModal)(\"header\");\n};\nconst $cbb11aa408cc55db$var$getMyProfile = async ()=>{\n    const isAuthenticated = await (0, $ck9ES.callJsonApi)(\"/profile\", \"GET\");\n    if (isAuthenticated.ok) {\n        (0, $0eda0ef69e92e3bb$export$149136365741a43c)(isAuthenticated.name);\n        document.getElementById(\"userlogin\").style.display = \"none\";\n        document.getElementById(\"useroptions\").style.display = \"\";\n        document.getElementById(\"display_profile_name\").innerText = `[${isAuthenticated.name}]`;\n        (0, $hcAI8.checkIfTermsAccepted)(isAuthenticated, $cbb11aa408cc55db$var$homePageTermsAccepted);\n    }\n    return isAuthenticated;\n};\nconst $cbb11aa408cc55db$export$b99e48ec291af6c0 = async ()=>{\n    const endpoint = \"/mycompositions\";\n    const data = await (0, $ck9ES.callJsonApi)(endpoint, \"GET\");\n    if (data.compositions) return $cbb11aa408cc55db$var$renderHomePage(data.compositions, endpoint);\n    else alert(\"invalid return value for compisitions list\");\n};\nconst $cbb11aa408cc55db$var$getCompositionsByUserUid = async (useruid, auth)=>{\n    const endpoint = \"/compositionsbyuserid/\" + useruid;\n    const data = await (0, $ck9ES.callJsonApi)(endpoint, \"GET\");\n    if (data.compositions) {\n        (0, $0eda0ef69e92e3bb$export$149136365741a43c)(data.username);\n        (0, $f24241b8655841c9$export$b8abf8ca7249a7d2)(data.username, useruid);\n        return $cbb11aa408cc55db$var$renderHomePage(data.compositions, endpoint);\n    } else {\n        alert(\"invalid return value for user id\");\n        if (auth.ok) (0, $9ddbe2ce5d0641a0$export$ff7962acd6052c28)(\"my-comp\");\n        else (0, $9ddbe2ce5d0641a0$export$ff7962acd6052c28)(\"recent-comp\");\n    }\n};\nconst $cbb11aa408cc55db$var$getCompositionsByColelctionUid = async (collectionuid, auth)=>{\n    const endpoint = \"/collectionastreebyid/\" + collectionuid;\n    const data = await (0, $ck9ES.callJsonApi)(endpoint, \"GET\");\n    if (data.compositions) {\n        (0, $0eda0ef69e92e3bb$export$149136365741a43c)(data.username);\n        (0, $f24241b8655841c9$export$206832d47f4d1079)(data.collection_name, data.username, data.owneruid);\n        return $cbb11aa408cc55db$var$renderHomePage(data.compositions, endpoint);\n    } else {\n        alert(\"invalid return value for collection id\");\n        if (auth.ok) (0, $9ddbe2ce5d0641a0$export$ff7962acd6052c28)(\"my-comp\");\n        else (0, $9ddbe2ce5d0641a0$export$ff7962acd6052c28)(\"recent-comp\");\n    }\n};\nconst $cbb11aa408cc55db$export$8d85b36da8527a05 = async ()=>{\n    const endpoint = \"/recentcompositions\";\n    const data = await (0, $ck9ES.callJsonApi)(\"/recentcompositions\", \"GET\");\n    if (data.compositions) return $cbb11aa408cc55db$var$renderHomePage(data.compositions, endpoint);\n    else alert(\"invalid return value for compisitions list\");\n};\nconst $cbb11aa408cc55db$export$556539c2d93a797d = async ()=>{\n    const endpoint = \"/compositions\";\n    const data = await (0, $ck9ES.callJsonApi)(\"/compositions\", \"GET\");\n    if (data.compositions) return $cbb11aa408cc55db$var$renderHomePage(data.compositions, endpoint);\n    else alert(\"invalid return value for compisitions list\");\n};\nconst $cbb11aa408cc55db$var$renderHomePage = (compositionsList, endpoint)=>{\n    document.getElementById(\"loadertext\").textContent = \"\";\n    document.getElementById(\"grid\").innerHTML = \"\";\n    document.getElementById(\"legendbuttons\").innerHTML = \"\";\n    const notUserPublicPage = !endpoint.includes(\"/compositionsbyuserid/\") && !endpoint.includes(\"/collectionastreebyid/\");\n    if (notUserPublicPage) (0, $f24241b8655841c9$export$2ccaa4a069104255)(false);\n    if (!compositionsList.length && notUserPublicPage) {\n        document.getElementById(\"initialmessage\").hidden = false;\n        document.getElementById(\"initialmessage\").classList.add(\"d-flex\");\n    } else $cbb11aa408cc55db$var$renderHomePageWithLists(compositionsList, endpoint);\n};\nconst $cbb11aa408cc55db$var$renderHomePageWithLists = (compositionsList, endpoint)=>{\n    if (endpoint.includes(\"/collectionastreebyid/\")) {\n        const parent_coll_id = endpoint.replace(\"/collectionastreebyid/\", \"\");\n        const groupedCompsAndSubColl = (0, $0eda0ef69e92e3bb$export$46ab7a802f6f7711)(compositionsList, parent_coll_id);\n        $cbb11aa408cc55db$var$paintListOfCompositions(groupedCompsAndSubColl, null, endpoint, compositionsList.length);\n    } else if (!(0, $0eda0ef69e92e3bb$export$1badf4b56a2f2c08)(endpoint)) {\n        const groupedComps = (0, $0eda0ef69e92e3bb$export$2095d3815b0f7547)(compositionsList);\n        $cbb11aa408cc55db$var$paintListOfCompositions(groupedComps, \"groupedbyuser_final\", endpoint, compositionsList.length);\n    } else {\n        const groupedCompsWithCollab = (0, $0eda0ef69e92e3bb$export$6d37f804b553eac7)(compositionsList);\n        $cbb11aa408cc55db$var$paintListOfCompositions(groupedCompsWithCollab, \"groupedbycollab\", endpoint, compositionsList.length);\n    }\n};\nconst $cbb11aa408cc55db$var$paintGroupCollection = (listcomps, typebadge, endpoint)=>{\n    let allCompUIelem = \"\";\n    for(const comp in listcomps){\n        const element = listcomps[comp];\n        let listgroup = \"\";\n        let groupTitle = \"\";\n        let groupId = null;\n        if (typebadge === \"collab\") groupTitle = \"Collaborations\";\n        else if (typebadge === \"coll\") {\n            groupTitle = Object.values(element)[0].parent_collection;\n            groupId = Object.values(element)[0].collection_uid;\n        } else {\n            groupTitle = Object.values(element)[0].username;\n            groupId = Object.values(element)[0].owner_uuid;\n        }\n        for (const item of element)listgroup += (0, $f24241b8655841c9$export$cbdc54c51b649c98)(item, typebadge, endpoint);\n        allCompUIelem += (0, $f24241b8655841c9$export$da2a595be284078a)(typebadge, element.length, groupTitle, groupId, listgroup);\n    }\n    return allCompUIelem;\n};\nconst $cbb11aa408cc55db$var$getSingleComps = (groupedComps, endpoint)=>{\n    let listElelemts = \"\";\n    const listCompsSingle = groupedComps.singlecomps;\n    listCompsSingle?.forEach((element)=>{\n        const template = (0, $f24241b8655841c9$export$971becedf6ebeceb)(element, endpoint);\n        listElelemts += template;\n    });\n    return listElelemts;\n};\nconst $cbb11aa408cc55db$var$paintListOfCompositions = (groupedComps, customgroup, endpoint, totalcomps)=>{\n    let listElelemts = \"\";\n    const numberGroupsByCollections = Object.keys(groupedComps.groupedbycoll).length;\n    const numberCustomGroups = customgroup ? Object.keys(groupedComps[customgroup]).length : 0;\n    let numberSinglComp = groupedComps.singlecomps.length;\n    if (numberGroupsByCollections > 0) {\n        const listComps = groupedComps.groupedbycoll;\n        const template = $cbb11aa408cc55db$var$paintGroupCollection(listComps, \"coll\", endpoint);\n        listElelemts += template;\n    }\n    if (numberCustomGroups > 0) {\n        const listComps = groupedComps[customgroup];\n        const typeofbadge = customgroup === \"groupedbycollab\" ? \"collab\" : \"user\";\n        const template = $cbb11aa408cc55db$var$paintGroupCollection(listComps, typeofbadge, endpoint);\n        listElelemts += template;\n    }\n    if (numberSinglComp > 0) listElelemts += $cbb11aa408cc55db$var$getSingleComps(groupedComps, endpoint);\n    const legendButtons = (0, $f24241b8655841c9$export$bca9dffb57f7792b)(numberGroupsByCollections, numberCustomGroups, numberSinglComp, endpoint, totalcomps);\n    (0, $f24241b8655841c9$export$1f60eb8703988013)(listElelemts, legendButtons);\n};\nconst $cbb11aa408cc55db$var$initHomPage = async ()=>{\n    const queryString = window.location.search;\n    const user_id = queryString.split(\"userid=\")[1];\n    const collection_uid = queryString.split(\"collectionid=\")[1];\n    let isAuth = await $cbb11aa408cc55db$var$getMyProfile();\n    $cbb11aa408cc55db$export$4cd34456ac1eb639 = isAuth.ok;\n    if (user_id) await $cbb11aa408cc55db$var$getCompositionsByUserUid(user_id, isAuth);\n    else if (collection_uid) await $cbb11aa408cc55db$var$getCompositionsByColelctionUid(collection_uid, isAuth);\n    else if (isAuth.ok) await $cbb11aa408cc55db$export$b99e48ec291af6c0();\n    else await $cbb11aa408cc55db$export$8d85b36da8527a05();\n    (0, $9ddbe2ce5d0641a0$export$184163c68675dcce)(isAuth, user_id || collection_uid);\n};\n(0, $f24241b8655841c9$export$c1504dbc5bdba629)();\n(0, $ck9ES.activateGoHomeLink)();\n$cbb11aa408cc55db$var$initHomPage();\n\n\n\nvar $lRrDz = parcelRequire(\"lRrDz\");\n\nvar $9QUIF = parcelRequire(\"9QUIF\");\n\nlet $00165315f9e42e8b$var$EDIT_STATUS = false;\nconst $00165315f9e42e8b$var$showAllCollButton = document.getElementById(\"openMyCollectionsButton\");\nconst $00165315f9e42e8b$var$editButton = document.getElementById(\"editmycollectionsbutton\");\nconst $00165315f9e42e8b$var$fetchCollectionsTree = async ()=>{\n    const response = await fetch(\"/mycollectionsastree\");\n    const data = await response.json();\n    return data;\n};\nconst $00165315f9e42e8b$var$createTreeHTML = (item)=>{\n    let html = `\n        <span id='removeCollIcon${item.uuid}' data-uuid='${item.uuid}' data-title='${item.title}' role='button' class='badge badge-pill badge-danger' hidden>-</span>\n        <li id='${item.uuid}' class='list-group-item border-bottom-0 border-right-0 border-top-0 border-warning'>\n            <input type='text' class='form-control border-secondary' id='treecolltitleinput${item.uuid}' data-uuid='${item.uuid}' placeholder='Type a new title'\n            title='collectiontitle' value='${item.title}' disabled>\n        </li>`;\n    if (item.compositions.length > 0 || item.collections.length > 0) {\n        html += \"<ul>\";\n        for (const composition of item.compositions)html += `<li class='list-group-item border-0'><a href='${(0, $cbb11aa408cc55db$export$5e4b5ab8660ba9d5) + composition.uuid}'><u>${composition.title}</u></a></li>`;\n        for (const collection of item.collections)html += $00165315f9e42e8b$var$createTreeHTML(collection);\n        html += \"</ul>\";\n    }\n    return html;\n};\nconst $00165315f9e42e8b$var$renderTree = async ()=>{\n    const treeContainer = document.getElementById(\"listCollContainerAllColl\");\n    const data = await $00165315f9e42e8b$var$fetchCollectionsTree();\n    let html = \"<ul>\";\n    for (const collection of data)html += $00165315f9e42e8b$var$createTreeHTML(collection);\n    html += \"</ul>\";\n    treeContainer.innerHTML = html;\n};\nconst $00165315f9e42e8b$var$clickEditButtonHandler = ()=>{\n    if ($00165315f9e42e8b$var$EDIT_STATUS) {\n        $00165315f9e42e8b$var$EDIT_STATUS = false;\n        $00165315f9e42e8b$var$editButton.innerText = \"Edit\";\n        $00165315f9e42e8b$var$disableEdition();\n    } else {\n        $00165315f9e42e8b$var$EDIT_STATUS = true;\n        $00165315f9e42e8b$var$editButton.innerText = \"Done\";\n        $00165315f9e42e8b$var$enableEdition();\n    }\n};\nconst $00165315f9e42e8b$var$enableEdition = ()=>{\n    const elementsWithHiddenAttribute = document.querySelectorAll(`[id*='removeCollIcon']`);\n    elementsWithHiddenAttribute.forEach((element)=>{\n        element.removeAttribute(\"hidden\");\n        $00165315f9e42e8b$var$removeCollectionClickhHandler(element.getAttribute(\"data-uuid\"), element.getAttribute(\"data-title\"));\n    });\n    const elementsWithDisabledAttribute = document.querySelectorAll(`[id*='treecolltitleinput']`);\n    elementsWithDisabledAttribute.forEach((element)=>{\n        element.removeAttribute(\"disabled\");\n        $00165315f9e42e8b$var$updateInputTextEventHandler(element.getAttribute(\"data-uuid\"), element.value);\n    });\n};\nconst $00165315f9e42e8b$var$disableEdition = ()=>{\n    const elementsWithHiddenAttribute = document.querySelectorAll(`[id*='removeCollIcon']`);\n    elementsWithHiddenAttribute.forEach((element)=>{\n        element.setAttribute(\"hidden\", \"true\");\n    });\n    const elementsWithDisabledAttribute = document.querySelectorAll(`[id*='treecolltitleinput']`);\n    elementsWithDisabledAttribute.forEach((element)=>{\n        element.setAttribute(\"disabled\", \"true\");\n    });\n};\nconst $00165315f9e42e8b$var$clickAllCollButtonHandler = async ()=>{\n    $00165315f9e42e8b$var$EDIT_STATUS = false;\n    $00165315f9e42e8b$var$editButton.innerText = \"Edit\";\n    await $00165315f9e42e8b$var$renderTree();\n    $00165315f9e42e8b$var$editButton.addEventListener(\"click\", $00165315f9e42e8b$var$clickEditButtonHandler, false);\n};\n$00165315f9e42e8b$var$showAllCollButton?.addEventListener(\"click\", $00165315f9e42e8b$var$clickAllCollButtonHandler, false);\nconst $00165315f9e42e8b$var$confirmDeleteCollectionModal = async (event, collectionId, collectionTitle)=>{\n    const chk = event.target;\n    if (chk.tagName === \"SPAN\") {\n        if (confirm(`Are you sure you want remove the collection ${collectionTitle} and all of its content?`) == true) {\n            const response = await fetch((0, $9QUIF.ENDPOINT) + \"/deletecollection/\" + collectionId, {\n                method: \"DELETE\"\n            });\n            if (response?.ok) {\n                document.getElementById(\"removeCollIcon\" + collectionId).remove();\n                const listElemToDelete = document.getElementById(collectionId);\n                if (listElemToDelete?.nextSibling?.tagName === \"UL\") listElemToDelete.nextSibling.remove();\n                listElemToDelete.remove();\n            }\n        } else event.target.checked = false;\n    }\n};\nconst $00165315f9e42e8b$var$removeCollectionClickhHandler = (collectionId, collectionTitle)=>{\n    document.getElementById(\"removeCollIcon\" + collectionId).onclick = async (event)=>{\n        await $00165315f9e42e8b$var$confirmDeleteCollectionModal(event, collectionId, collectionTitle);\n    };\n};\nconst $00165315f9e42e8b$var$updateInputTextEventHandler = (collectionId, currentTitle)=>{\n    document.getElementById(\"treecolltitleinput\" + collectionId).onblur = (event)=>{\n        $00165315f9e42e8b$var$handleInputBlur(event, collectionId, currentTitle);\n    };\n};\nconst $00165315f9e42e8b$var$updateCollectionTitleRqst = (value, uuid)=>{\n    const updateTitleApi = (0, $9QUIF.ENDPOINT) + \"/updatecolltitle\";\n    const data = {\n        title: value,\n        uuid: uuid\n    };\n    fetch(updateTitleApi, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    }).then().catch((error)=>{\n        console.error(\"Error updating value:\", error);\n    });\n};\nconst $00165315f9e42e8b$var$handleInputBlur = (event, collId, currTitle)=>{\n    const newValue = event.target.value;\n    if (currTitle !== newValue) {\n        if (!newValue || newValue === \"\") {\n            event.target.value = currTitle;\n            alert(\"Introduce a valid title, please\");\n            return;\n        } else $00165315f9e42e8b$var$updateCollectionTitleRqst(newValue, collId);\n    }\n};\n\n\nconst $63f03976c6741a52$var$createNewButton = document.getElementById(\"createNewButton\");\nconst $63f03976c6741a52$var$createNewButtonAtHome = document.getElementById(\"createNewButtonAtHome\");\nconst $63f03976c6741a52$var$clickNewButtonHandler = ()=>{\n    document.getElementById(\"newtitle\").value = \"\";\n    document.getElementById(\"newdescription\").value = \"\";\n    const saveCompositionButton = document.getElementById(\"newcreation\");\n    $63f03976c6741a52$var$saveEventListener(saveCompositionButton);\n    (0, $lRrDz.getCollections)().then((result)=>{\n        if (result) $63f03976c6741a52$var$getCompCollSuccess(result);\n        else (0, $lRrDz.getCollectionsError)();\n    });\n};\n$63f03976c6741a52$var$createNewButton?.addEventListener(\"click\", $63f03976c6741a52$var$clickNewButtonHandler, false);\n$63f03976c6741a52$var$createNewButtonAtHome?.addEventListener(\"click\", $63f03976c6741a52$var$clickNewButtonHandler, false);\nconst $63f03976c6741a52$var$getCompCollSuccess = (list)=>{\n    document.getElementById(\"listCollContainer\").replaceChildren();\n    (0, $lRrDz.createListCollections)(list, \"listCollContainer\");\n};\nconst $63f03976c6741a52$var$saveEventListener = (saveCompositionButton)=>{\n    saveCompositionButton?.addEventListener(\"click\", $63f03976c6741a52$var$saveEventListenerHandler);\n};\nconst $63f03976c6741a52$var$saveEventListenerHandler = (e)=>{\n    const newCreation = document.getElementById(\"typeOfNewCreation\").value;\n    let apiMethod = \"/newcomposition\";\n    if (newCreation === \"coll\") apiMethod = \"/newcollection\";\n    let newtitle = document.getElementById(\"newtitle\").value;\n    const privacyLevel = document.querySelector('input[name=\"newMusicPrivacyRadios\"]:checked').value;\n    if (!newtitle) {\n        alert(\"Introduce a valid title, please\");\n        return;\n    }\n    const newdescription = document.getElementById(\"newdescription\").value;\n    const collectInput = document.getElementById(\"inputGroupSelectCollect\");\n    let parentCollection = collectInput?.value || null;\n    if (parentCollection === \"0\") parentCollection = null;\n    let body = JSON.stringify({\n        title: newtitle,\n        privacy_level: privacyLevel,\n        parent_uuid: parentCollection,\n        description: newdescription\n    });\n    let errorIs = null;\n    fetch((0, $9QUIF.ENDPOINT) + apiMethod, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        },\n        body: body\n    }).then((r)=>{\n        if (!r.ok) errorIs = r.statusText;\n        return r.json();\n    }).then((data)=>{\n        if (data) $63f03976c6741a52$var$verifyResponse(data);\n        else throw new Error(data);\n    }).catch((error)=>{\n        errorIs = error;\n    });\n};\nconst $63f03976c6741a52$var$verifyResponse = (response)=>{\n    $(\"#newMusicModal\").modal(\"hide\");\n    if (response.composition) window.location.href = (0, $cbb11aa408cc55db$export$5e4b5ab8660ba9d5) + response.composition.uuid;\n};\n\n\n//# sourceMappingURL=index.a732d1f9.js.map\n","const MODE = 'DEV' // STAGE\nconst DEVPORT = 7007\n\nconst ENVIRONMENTS = {\n    PROD:{        \n        ENDPOINT:'',\n        UPLOAD_ENDPOINT:''        \n    },\n    STAGE:{        \n        ENDPOINT: window.location.protocol+'//'+window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol+'//'+window.location.host+'/fileUpload'       \n    },\n    DEV:{        \n        ENDPOINT:window.location.protocol+'//'+window.location.hostname+':'+DEVPORT,\n        UPLOAD_ENDPOINT:window.location.protocol+'//'+window.location.hostname+':'+DEVPORT+'/fileUpload'        \n    }\n}\n\nmodule.exports = {    \n    ENDPOINT: ENVIRONMENTS[MODE].ENDPOINT,\n    UPLOAD_ENDPOINT: ENVIRONMENTS[MODE].UPLOAD_ENDPOINT\n}","import { ENDPOINT } from './config'\n\nexport const LOADER_ELEM_ID = 'loader'\n\nexport const uriUserPage = '/index.html?userid='\nexport const uriCollectionPage = '/index.html?collectionid='\n\nexport const UserRole = Object.freeze({\n    none : 0,\n    owner : 1,\n    admin : 2,\n    member : 3,\n    guest : 4\n})\n\nexport const LevelPrivacy = Object.freeze({\n    public : 1,\n    onlyreg : 2,\n    private : 3\n})\n\nexport const PRIVACY_BADGE_STYLE = {[LevelPrivacy.public] : 'badge-public', [LevelPrivacy.onlyreg] : 'badge-onlyreg', [LevelPrivacy.private] : 'badge-private'}\nexport const PRIVACY_BADGE_TEXT = {[LevelPrivacy.public] : 'PUBLIC', [LevelPrivacy.onlyreg] : 'REG USERS', [LevelPrivacy.private] : 'PRIVATE'}\n\nexport const startLoader = (loaderId, loadingMessage) => {    \n    const loaderElement = document.getElementById(loaderId)    \n    loaderElement.nextElementSibling.textContent = loadingMessage\n    loaderElement.classList.add(loaderId)\n}\n\nexport const cancelLoader = (loaderId) => {\n    const loaderElement = document.getElementById(loaderId)\n    loaderElement.classList.remove(loaderId)\n    loaderElement.nextElementSibling.textContent = ''\n}\n\nexport const callJsonApi = async (apimethod, rqstmethod, body) => {\n    const request = {\n        method: rqstmethod || 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        }\n    }\n    if(body){\n        request.body = JSON.stringify(body)\n    }\n    try {\n        startLoader(LOADER_ELEM_ID, 'Loading...')\n        const sendRqst = await fetch(ENDPOINT + apimethod, request)\n        cancelLoader(LOADER_ELEM_ID)\n        const respToJson = await sendRqst.json()\n        if (respToJson && !respToJson.error) {\n            returnrespToJson\n        } else {\n            return (respToJson?.error || 'An error occurred')\n        }\n    } catch (error) {\n        cancelLoader(LOADER_ELEM_ID)\n        return(error)\n    }\n}\n\n/* https://stackoverflow.com/a/5166806 */\nexport const looksLikeMail = (str) => {\n    const lastAtPos = str.lastIndexOf('@')\n    const lastDotPos = str.lastIndexOf('.')\n    return (lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf('@@') == -1 && lastDotPos > 2 && (str.length - lastDotPos) > 2)\n}\n\nexport const activateGoHomeLink = () => {\n    const goHomeLink = document.getElementById('goHome')\n    if(window.location.host === 'localhost:80' || window.location.origin === 'http://localhost'){\n        goHomeLink.href = window.location.origin + '/index.html'\n    } else {\n        goHomeLink.href = window.location.origin\n    }\n}\n\nexport const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)","import { LOADER_ELEM_ID, cancelLoader, callJsonApi } from './utils'\n\nexport const checkIfTermsAccepted = (userprofile, callback) => {\n    cancelLoader(LOADER_ELEM_ID)\n    callback(userprofile?.terms_accepted)\n}\n\nexport const handleTermsNotAccepted = () => {\n\n    $('#acceptTermsModal').modal({\n        backdrop: 'static',\n        keyboard: false  // to prevent closing with Esc button (if you want this too)\n    })\n    $('#acceptTermsModal').modal('show')\n    document.getElementById('buttonAcceptTerms').onclick = rqstAcceptTerms\n    document.getElementById('buttonRejectTerms').onclick = rqstRejectTerms\n}\n\nconst rqstAcceptTerms = async () => {\n    const data = await callJsonApi('/acceptterms', 'PUT')\n    if (data.ok) {\n        $('#acceptTermsModal').modal('hide')\n    }\n}\nconst rqstRejectTerms = async () => {\n    const data = await callJsonApi('/rejectterms', 'PUT')\n    if (data.ok) {\n        $('#acceptTermsModal').modal('hide')\n        window.location.href = window.location.origin\n    }\n}\n\nexport const generateAcceptTermsModal = (attachToElem) => {\n\n    const isModal = document.getElementById('acceptTermsModal')\n\n    if (!isModal) {\n        const modalDialog = `<div class=\"modal fade\" id=\"acceptTermsModal\" tabindex=\"-1\" role=\"dialog\">\n            <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Accept Terms</h5>                \n                </div>\n                <div class=\"modal-body\">\n                <p>By clicking on OK you accept the Terms of Use.</p>\n                <p>More information at: <span> <a href=\"${window.location.origin}/static/terms.html\" target=\"_blank\">${window.location.origin}/static/terms.html</a></span></p>\n                </div>\n                <div class=\"modal-footer\">\n                <button id=\"buttonRejectTerms\" type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Reject</button>\n                <button id=\"buttonAcceptTerms\" type=\"button\" class=\"btn btn-primary\">OK</button>\n                </div>\n            </div>\n            </div>\n        </div>`\n        document.getElementsByTagName(attachToElem)[0].insertAdjacentHTML('afterend', modalDialog)\n    }\n    handleTermsNotAccepted()\n}","\nimport { ENDPOINT } from './config'\n\nexport const getCollections = async () => {\n   \n    const response = await fetch(ENDPOINT + '/mycollections') \n    let result = null            \n    if(response?.ok){ \n        const respJson = await response.json()\n        result = respJson\n    }\n    return result\n}\n\nexport const getCollectionsError = () => {\n    alert(`Problem getting collections`)\n}\n\nexport const createListCollections = (collections,listId, coll_id) => {\n    const theList = collections.all_collections\n    const listCollContainer  = document.getElementById(listId)\n    let listOptions = `<option value='0'>...</option>`\n    let selected = null\n    theList.forEach((element) => {\n        if (element) {\n            if(element.uuid === coll_id){\n                selected = 'selected>'\n            } else {\n                selected = null\n            }\n            const template = `<option value='${element.uuid}' ${selected?selected:'>'}${element.title}</option>`\n            listOptions += template\n        }\n    })\n    const listElelemts = `<select class='custom-select' id='inputGroupSelectCollect'>${listOptions}</select>`   \n    listCollContainer.insertAdjacentHTML('afterbegin', listElelemts)\n}","\nimport { ENDPOINT } from '../../../common/js/config'\nimport {uriCompositionPage} from './home'\nimport {getCollections, getCollectionsError, createListCollections } from '../../../common/js/collectionshandler.js'\nimport './editcollections'\n\nconst createNewButton  = document.getElementById('createNewButton')\nconst createNewButtonAtHome  = document.getElementById('createNewButtonAtHome')\n\nconst clickNewButtonHandler = () => {\n  document.getElementById('newtitle').value = ''\n  document.getElementById('newdescription').value = ''\n  const saveCompositionButton = document.getElementById('newcreation')\n  saveEventListener(saveCompositionButton)\n  getCollections().then( result => {\n      if(result){\n          getCompCollSuccess(result)\n      } else {\n          getCollectionsError()\n      }\n  })\n}\n\ncreateNewButton?.addEventListener('click', clickNewButtonHandler, false)\ncreateNewButtonAtHome?.addEventListener('click', clickNewButtonHandler, false)\n\nconst getCompCollSuccess = (list) => {\n  document.getElementById('listCollContainer').replaceChildren()                                   \n  createListCollections(list, 'listCollContainer')\n}\n\nconst saveEventListener = (saveCompositionButton) =>{\n  saveCompositionButton?.addEventListener('click', saveEventListenerHandler)\n}\n\nconst saveEventListenerHandler = (e) => {\n  const newCreation = document.getElementById('typeOfNewCreation').value\n  let apiMethod = '/newcomposition'\n  if(newCreation === 'coll'){\n    apiMethod = '/newcollection'\n  }\n  let newtitle = document.getElementById('newtitle').value\n  const privacyLevel = document.querySelector('input[name=\"newMusicPrivacyRadios\"]:checked').value\n  if (!newtitle) {\n    alert('Introduce a valid title, please')\n    return\n  }\n\n  const newdescription = document.getElementById('newdescription').value  \n  const collectInput = document.getElementById('inputGroupSelectCollect')\n  let parentCollection = collectInput?.value || null\n  if(parentCollection === '0'){\n      parentCollection = null\n  }\n\n  let body = JSON.stringify({\n    title: newtitle,\n    privacy_level: privacyLevel,\n    parent_uuid: parentCollection,\n    description: newdescription\n  })\n\n  let errorIs = null\n\n  fetch(ENDPOINT + apiMethod, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    body: body\n  })\n    .then((r) => {\n      if (!r.ok) {\n        errorIs = r.statusText\n      }\n      return r.json()\n    })\n    .then(data => {\n      if (data) {\n        verifyResponse(data)\n      } else {\n        throw new Error(data)\n      }\n    }).catch((error) => {\n      errorIs = error\n    })\n}\n\nconst verifyResponse = (response)=> {\n  $('#newMusicModal').modal('hide')  \n  if(response.composition){\n    window.location.href = uriCompositionPage + response.composition.uuid  \n  }\n}","import { callJsonApi, activateGoHomeLink } from '../../../common/js/utils'\r\nimport {breadcrumbHandler, navigate} from './breadcrumbhandler'\r\nimport {checkIfTermsAccepted, generateAcceptTermsModal} from '../../../common/js/acceptterms'\r\nimport {getLegendButtons,\r\n  paintMainElemsHomePage,\r\n  paintSingleComposition,\r\n  getUIListElemInsideCollection,\r\n  getUICardElemForCollection,\r\n  cleanWelcomeContainer,\r\n  updateUIWithCollectionInfo,\r\n  updateUIWithUserInfo,\r\n  initNavigationMenu\r\n} from './home_ui'\r\nimport {getGroupedCompositionsWithUsers,\r\n  getGroupedCompositionsWithCollab,\r\n  isuserpage,\r\n  getGroupedCompositionsWithSubCollect,\r\n  setCurrentUserName}\r\nfrom './home_helper'\r\n\r\nexport const uriCompositionPage = '/composition.html?compositionId='\r\nexport let IS_AUTH = false\r\n\r\nconst homePageTermsAccepted = (termsAccepted) => {    \r\n    if(!termsAccepted){\r\n        generateAcceptTermsModal('header')\r\n    } \r\n}\r\nconst getMyProfile = async () => {\r\n  \r\n  const isAuthenticated = await callJsonApi('/profile', 'GET')\r\n  if (isAuthenticated.ok) {\r\n    setCurrentUserName(isAuthenticated.name)\r\n    document.getElementById('userlogin').style.display = 'none'\r\n    document.getElementById('useroptions').style.display = ''\r\n    document.getElementById('display_profile_name').innerText = `[${isAuthenticated.name}]`    \r\n    checkIfTermsAccepted(isAuthenticated, homePageTermsAccepted)    \r\n  }\r\n  return isAuthenticated\r\n}\r\n\r\nexport const getMyCompositions = async () => {\r\n  const endpoint = '/mycompositions'\r\n  const data = await callJsonApi(endpoint, 'GET')\r\n  if(data.compositions){\r\n    return renderHomePage(data.compositions, endpoint)\r\n  } else {\r\n    alert('invalid return value for compisitions list')\r\n  }  \r\n}\r\n\r\nconst getCompositionsByUserUid = async (useruid, auth) => {\r\n  const endpoint = '/compositionsbyuserid/'+useruid\r\n  const data = await callJsonApi(endpoint, 'GET')\r\n  if(data.compositions){\r\n    setCurrentUserName(data.username)\r\n    updateUIWithUserInfo(data.username, useruid)\r\n    return renderHomePage(data.compositions, endpoint)\r\n  } else {\r\n    alert('invalid return value for user id')\r\n    if(auth.ok){\r\n      navigate('my-comp')\r\n    } else {\r\n      navigate('recent-comp')\r\n    }      \r\n  }  \r\n}\r\n\r\nconst getCompositionsByColelctionUid = async (collectionuid, auth) => {\r\n  const endpoint = '/collectionastreebyid/'+collectionuid\r\n  const data = await callJsonApi(endpoint, 'GET')\r\n  if(data.compositions){\r\n    setCurrentUserName(data.username)\r\n    updateUIWithCollectionInfo(data.collection_name, data.username, data.owneruid)\r\n    return renderHomePage(data.compositions, endpoint)\r\n  } else {\r\n    alert('invalid return value for collection id')\r\n    if(auth.ok){\r\n      navigate('my-comp')\r\n    } else {\r\n      navigate('recent-comp')\r\n    }      \r\n  }  \r\n}\r\n\r\nexport const getRecentCompositions = async () => {\r\n  const endpoint = '/recentcompositions'\r\n  const data = await callJsonApi('/recentcompositions', 'GET')\r\n  if(data.compositions){\r\n    return renderHomePage(data.compositions, endpoint)\r\n  } else {\r\n    alert('invalid return value for compisitions list')\r\n  }\r\n}\r\n\r\nexport const getAllCompositions = async () => {\r\n  const endpoint = '/compositions'\r\n  const data = await callJsonApi('/compositions', 'GET')\r\n  if(data.compositions){\r\n    return renderHomePage(data.compositions, endpoint)\r\n  } else {\r\n    alert('invalid return value for compisitions list')\r\n  }\r\n}\r\n\r\nconst renderHomePage = (compositionsList, endpoint) => {\r\n\r\n  document.getElementById('loadertext').textContent = ''\r\n  document.getElementById('grid').innerHTML = ''\r\n  document.getElementById('legendbuttons').innerHTML = ''\r\n  const notUserPublicPage = !endpoint.includes('/compositionsbyuserid/') && !endpoint.includes('/collectionastreebyid/')\r\n  if(notUserPublicPage){\r\n    cleanWelcomeContainer(false)\r\n  }\r\n  if (!compositionsList.length && notUserPublicPage) {\r\n    document.getElementById('initialmessage').hidden = false\r\n    document.getElementById('initialmessage').classList.add('d-flex')\r\n  } else {   \r\n    renderHomePageWithLists(compositionsList, endpoint)\r\n  }\r\n}\r\n\r\nconst renderHomePageWithLists = (compositionsList, endpoint) => {\r\n  if(endpoint.includes('/collectionastreebyid/')){        \r\n    const parent_coll_id = endpoint.replace('/collectionastreebyid/', '')\r\n    const groupedCompsAndSubColl = getGroupedCompositionsWithSubCollect(compositionsList, parent_coll_id)       \r\n    paintListOfCompositions(groupedCompsAndSubColl, null, endpoint, compositionsList.length)\r\n  } else if (!isuserpage(endpoint)) {\r\n    const groupedComps = getGroupedCompositionsWithUsers(compositionsList)\r\n    paintListOfCompositions(groupedComps, 'groupedbyuser_final', endpoint, compositionsList.length)\r\n  }else {\r\n    const groupedCompsWithCollab = getGroupedCompositionsWithCollab(compositionsList)\r\n    paintListOfCompositions(groupedCompsWithCollab, 'groupedbycollab', endpoint, compositionsList.length)\r\n  }\r\n}\r\n\r\nconst paintGroupCollection = (listcomps, typebadge, endpoint) => {\r\n  \r\n  let allCompUIelem = ''  \r\n  for (const comp in listcomps) {    \r\n    const element = listcomps[comp]\r\n    let listgroup = ''\r\n    let groupTitle = ''\r\n    let groupId = null\r\n    if(typebadge === 'collab') {\r\n      groupTitle = 'Collaborations'\r\n    } else if (typebadge === 'coll'){\r\n      groupTitle = Object.values(element)[0].parent_collection\r\n      groupId = Object.values(element)[0].collection_uid\r\n    } else {\r\n      groupTitle = Object.values(element)[0].username\r\n      groupId = Object.values(element)[0].owner_uuid\r\n    } \r\n    for (const item of element) {      \r\n      listgroup += getUIListElemInsideCollection(item, typebadge, endpoint)\r\n    }    \r\n    allCompUIelem += getUICardElemForCollection(typebadge, element.length, groupTitle, groupId, listgroup)\r\n  }\r\n  return allCompUIelem\r\n}\r\n\r\nconst getSingleComps = (groupedComps, endpoint) => {\r\n  let listElelemts = ''\r\n  const listCompsSingle = groupedComps.singlecomps\r\n  listCompsSingle?.forEach((element) => {\r\n    const template = paintSingleComposition(element, endpoint)\r\n    listElelemts += template\r\n  })\r\n  return listElelemts\r\n}\r\n\r\nconst paintListOfCompositions = (groupedComps, customgroup, endpoint, totalcomps) => {\r\n  \r\n  let listElelemts = ''\r\n  const numberGroupsByCollections = Object.keys(groupedComps.groupedbycoll).length\r\n  const numberCustomGroups = customgroup ? Object.keys(groupedComps[customgroup]).length : 0\r\n  let numberSinglComp = groupedComps.singlecomps.length\r\n\r\n  if (numberGroupsByCollections > 0) {\r\n    const listComps = groupedComps.groupedbycoll\r\n    const template = paintGroupCollection(listComps, 'coll', endpoint)\r\n    listElelemts += template\r\n  }\r\n  if (numberCustomGroups > 0) {\r\n    const listComps = groupedComps[customgroup]\r\n    const typeofbadge = (customgroup==='groupedbycollab') ? 'collab' : 'user'\r\n    const template = paintGroupCollection(listComps, typeofbadge, endpoint)\r\n    listElelemts += template\r\n  }\r\n  if (numberSinglComp > 0) {\r\n    listElelemts += getSingleComps(groupedComps, endpoint)    \r\n  }\r\n  const legendButtons = getLegendButtons(numberGroupsByCollections, numberCustomGroups, numberSinglComp, endpoint, totalcomps) \r\n  paintMainElemsHomePage(listElelemts, legendButtons)\r\n}\r\n\r\nconst initHomPage = async () => {  \r\n  const queryString = window.location.search\r\n  const user_id = queryString.split('userid=')[1]\r\n  const collection_uid = queryString.split('collectionid=')[1]\r\n  let isAuth  = await getMyProfile()\r\n  IS_AUTH = isAuth.ok\r\n  if(user_id){    \r\n    await getCompositionsByUserUid(user_id, isAuth)\r\n  } else if(collection_uid){\r\n    await getCompositionsByColelctionUid(collection_uid, isAuth)\r\n  } else if (isAuth.ok) {\r\n    await getMyCompositions()\r\n  } else {\r\n    await getRecentCompositions()\r\n  }\r\n  breadcrumbHandler(isAuth, user_id || collection_uid)\r\n}\r\n\r\ninitNavigationMenu()\r\nactivateGoHomeLink()\r\ninitHomPage()","import { getRecentCompositions, getMyCompositions, getAllCompositions } from './home'\n\nexport const breadcrumbHandler = (isauth, isuserorcollection) => {\n    createBreadCrumbNavBar(isauth, isuserorcollection)   \n    document.querySelectorAll('.breadcrumb-item a').forEach(function (element) {\n        element.addEventListener('click', function (event) {\n            event.preventDefault()\n            document.querySelector('.active-breadcrumb')?.classList.remove('active-breadcrumb')            \n            event.currentTarget.classList.add('active-breadcrumb')\n            let section = event.currentTarget.getAttribute('data-section')\n            navigate(section)\n        })\n    })\n}\n\nconst createBreadCrumbNavBar = (isauth, isuserorcollection) => {\n    const navBar = document.getElementById('breadcrumbnavbar')\n    let userOptions = ''\n    if(isauth.ok){\n        userOptions = `<li class='breadcrumb-item ${isuserorcollection ? '' : 'active-breadcrumb'}' aria-current='page'><a href='#' data-section='my-comp'>My Music</a></li>\n        <li class='breadcrumb-item'><a href='#' data-section='all-comp'>All</a></li>`\n    } else {\n        userOptions = `<li class='breadcrumb-item ${isuserorcollection ? '' : 'active-breadcrumb'}' aria-current='page'><a href='#' data-section='recent-comp'>Recent</a></li>\n        <li class='breadcrumb-item'><a href='#' data-section='all-comp'>All</a></li>`\n    }\n    navBar.innerHTML = userOptions    \n}\n\nexport function navigate(section) { \n    const url = new URL(window.location.href)\n    url.searchParams.delete('userid')\n    url.searchParams.delete('collectionid')\n    history.replaceState(null, null, url)\n    switch (section) {\n        case 'recent-comp':           \n            getRecentCompositions()   \n            break\n        case 'my-comp':            \n            getMyCompositions()\n            break\n        case 'all-comp':\n            document.getElementById('initialmessage').classList.remove('d-flex')\n            document.getElementById('initialmessage').hidden = true\n            getAllCompositions()\n            break\n        default:\n            console.log('section default')\n    }\n}","import { uriCompositionPage, IS_AUTH } from './home'\nimport { isuserpage, displayUserNameInCard } from './home_helper'\nimport { PRIVACY_BADGE_STYLE, PRIVACY_BADGE_TEXT, uriUserPage, uriCollectionPage } from '../../../common/js/utils'\n\nconst CARD_BADGE_STYLE = { 'coll': 'badge-collection', 'user': 'badge-warning', 'collab': 'badge-collab' }\nconst CARD_BORDER_STYLE = { 'coll': 'border-collection', 'user': 'border-warning', 'collab': 'border-collab' }\nconst URI_PAGE = { 'coll': uriCollectionPage, 'user': uriUserPage }\n\nconst WELCOME_TEXT = 'We present Hi-Audio Online Platform a web application for musicians, researchers and an open community of enthusiasts of audio and music with a view to build a public database of music recordings from a wide variety of styles and different cultures.'\n\nexport const initNavigationMenu = () => {\n    \n    document.getElementById('userlogin').innerHTML =    \n    `<li class='nav-item'>\n        <a class='dropdown-item' href='${window.location.origin}/login.html'>Register / Login</a>\n    </li>\n    <li class='nav-item'>\n        <a class='dropdown-item' href='${uriCompositionPage}demopage'>Test DAW</a>\n    </li>`\n\n    document.getElementById('useroptions').innerHTML = \n    `<li class='nav-item'>\n      <a class='nav-link' href='${window.location.origin + '/profile.html'}'>Profile <i id='display_profile_name'></i></a>\n    </li>\n    <li class='nav-item'>\n          <a class='nav-link' href='#' id='createNewButton' data-toggle='modal' data-target='#newMusicModal'>/ Create new</a>\n    </li>\n    <li class='nav-item'>\n        <a class='nav-link' href='#' id='openMyCollectionsButton' data-toggle='modal' data-target='#editCollectionsModal'>/ My Collections</a>\n    </li>`\n}\n\nexport const getLegendButtons = (numberGroupsByCollections, numberGroupsCustom, numberSinglComp, endpoint, totalcomps) => {\n    const displayGroupsByLabel = (numberGroupsByCollections || ((!isuserpage(endpoint)) && numberGroupsCustom) || numberSinglComp)\n    return `<ul class=\"nav justify-content-end\">\n              ${displayGroupsByLabel ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-light\">Groups by:&nbsp;</span></h4></li>' : ''}\n              ${numberGroupsByCollections ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-collection\">Collections&nbsp;<span class=\"badge badge-light\">' + numberGroupsByCollections + '</span></span></h4></li>' : ''}            \n              ${((!isuserpage(endpoint)) && numberGroupsCustom) ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-warning\">Users&nbsp;<span class=\"badge badge-light\">' + numberGroupsCustom + '</span></span></h4></li>' : ''}\n              ${numberSinglComp ? '<li class=\"legenditem nav-item\"><h4><span class=\"badge badge-success\">Singles&nbsp;<span class=\"badge badge-light\">' + numberSinglComp + '</span></span></h4></li>' : ''}\n              <li class=\"legenditem nav-item\"><h4><span class=\"badge badge-light\">Total compositions:&nbsp;</span><span class=\"badge badge-light\">${totalcomps}</span></h4></li>\n            </ul>`\n}\n\nexport const paintMainElemsHomePage = (listElelemts, legendButtons) => {\n    document.getElementById('grid').innerHTML = ''\n    document.getElementById('grid').insertAdjacentHTML('afterbegin', listElelemts)\n    document.getElementById('legendbuttons').innerHTML = ''\n    document.getElementById('legendbuttons').insertAdjacentHTML('afterbegin', legendButtons)\n    document.getElementById('searchInput').removeAttribute('disabled')\n}\n\nexport const paintSingleComposition = (element, endpoint) => {    \n    const displayName = displayUserNameInCard(endpoint, element.username)\n    const displayNumCollabs = element.contributors.length    \n    return `<div class='card border-success'>                       \n              <div class=\"card-body\">\n              ${IS_AUTH ? `<span class=\"badge ${PRIVACY_BADGE_STYLE[element.privacy]}\">${PRIVACY_BADGE_TEXT[element.privacy]}</span>` : ''}\n              ${element.opentocontrib ? '<p class=\"badge badge-info\">OPEN TO CONTRIB</p>' : ''}               \n                  <div>\n                    <p class=\"list-group-item-heading\">  \n                      <a href='${uriCompositionPage + element.uuid}' class='card-url'>\n                        <h5 class='card-title'>${element.title}</h5>\n                      </a>\n                    </p>\n                    <p class='card-text text-truncate'>${element.description || ''}</p>\n                    <p class='text-black-50'>${displayNumCollabs ? ('Collaborators: ' + displayNumCollabs) : ''}</p>\n                    ${displayName ? `<span class=\"d-inline-block text-truncate\" style=\"max-width: 250px;\">\n                    <i class='fa fa-user'></i>&nbsp;\n                    <a href='${uriUserPage + element.owner_uuid}' class='card-url'>\n                      ${element.username}&nbsp;\n                    </a>\n                  </span>`: ''}\n                    <span class=\"d-inline-block text-truncate\" style=\"max-width: 250px;\">\n                      <i class='fa fa-music'></i>&nbsp;${'Tracks: ' + element.tracks?.length}\n                    </span>                  \n                  </div>                \n              </div>            \n          </div>`\n}\n\nexport const getUIListElemInsideCollection = (item, typebadge, endpoint) => {\n\n    const displayName = displayUserNameInCard(endpoint, item.username)\n    const displayNumCollabs = item.contributors.length\n    \n    return `<div class=\"list-group-item \">\n              ${IS_AUTH ? `<span class=\"badge ${PRIVACY_BADGE_STYLE[item.privacy]}\">${PRIVACY_BADGE_TEXT[item.privacy]}</span>` : ''}\n              ${item.opentocontrib ? '<span class=\"badge badge-info\">OPEN TO CONTRIB</span>' : ''}  \n              <p class=\"list-group-item-heading\">\n                <a href='${uriCompositionPage + item.uuid}' class='card-url'>\n                    <h5 class='card-title'>${item.title}</h5>\n                </a>\n              </p>\n              <p class='text-black-50'>${displayNumCollabs ? ('Collaborators: ' + displayNumCollabs) : ''}</p>\n              <p class=\"list-group-item-text text-truncate\">\n                ${item.description || ''}\n              </p>\n              ${(typebadge !== 'user' && displayName) ?\n            '<span class=\"d-inline-block text-truncate\" style=\"max-width: 220px;\">' +\n            '<i class=\"fa fa-user\"></i>&nbsp;' +\n            '<a href=' + uriUserPage + item.owner_uuid + ' class=\"card-url\">' + item.username + '&nbsp;' +\n            '</a>' +\n            '</span>' : ''}            \n              <span class=\"d-inline-block text-truncate\" style=\"max-width: 200px;\">\n                <i class='fa fa-music'></i>&nbsp;${'Tracks: ' + item.tracks?.length}\n              </span>\n            </div>`\n}\n\nexport const getUICardElemForCollection = (typebadge, numitems, groupTitle, groupId, listgroup) => {\n\n    const badegstyle = CARD_BADGE_STYLE[typebadge]\n    const borderstyle = CARD_BORDER_STYLE[typebadge]\n    const url = URI_PAGE[typebadge]\n    const badgeDisplayed = `<span class=\"badge ${badegstyle} d-inline-block text-truncate\" style=\"max-width:85%;\">\n                              <span class=\"badge badge-light\">${numitems}</span>&nbsp;\n                              ${url ? `<a href=${url + groupId} class=\"card-header-url\">${groupTitle}</a>` : `${groupTitle}`}                              \n                          </span>`\n\n    return `<div class='card ${borderstyle}'>                        \n              <h4>${badgeDisplayed}</h4>        \n              <div class=\"card-body\">\n                <div class=\"list-group border\">              \n                  ${listgroup}\n                </div>\n              </div>\n            </div>`\n}\n\nexport const cleanWelcomeContainer = (hidetext) => {\n    const welcomecontainer = document.getElementById('welcomecontainer')\n    if (welcomecontainer.lastChild?.id) {\n        welcomecontainer.removeChild(welcomecontainer.lastChild)\n    }\n    if (!hidetext) {\n        const welcometextelem = document.createElement('div')\n        welcometextelem.id = 'welcometext'\n        welcometextelem.classList.add('col-sm-6')\n        welcometextelem.classList.add('mx-auto')\n        welcometextelem.innerHTML = `<em>${WELCOME_TEXT}</em>`\n        document.getElementById('welcomecontainer').appendChild(welcometextelem)\n    }\n}\n\nexport const updateUIWithCollectionInfo = (collectiontitle, username, owner_uuid) => {\n\n    cleanWelcomeContainer(true)\n    const collectionInfoContainer = document.createElement('div')\n    collectionInfoContainer.id = 'infocontainer'\n    collectionInfoContainer.innerHTML = `<div class=\"card border-collection mb-3\">\n                                          <div class=\"card-header bg-transparent border-collection\"><b>Collection</b></div>\n                                          <div class=\"card-body text-dark\">\n                                            <h5 class=\"card-title\">${collectiontitle}</h5>\n                                            <p class=\"card-text\" style=\"width:300px;\">Owner: <a href=${uriUserPage + owner_uuid} class=\"card-url\">${username}</a></p>\n                                          </div>\n                                        </div>`\n    document.getElementById('welcomecontainer').appendChild(collectionInfoContainer)\n}\n\nexport const updateUIWithUserInfo = (username, useruid) => {\n\n    cleanWelcomeContainer(true)\n\n    const userInfoContainer = document.createElement('div')\n    userInfoContainer.id = 'infocontainer'\n    userInfoContainer.innerHTML = `<div class=\"card mb-3\" style=\"max-width: 540px;\">\n                                    <div class=\"row no-gutters\">\n                                      <div class=\"col-md-4\">\n                                        <img class=\"img-fluid\" src=\"https://picsum.photos/seed/${useruid}/200\" alt=\"User Picture\">\n                                      </div>\n                                      <div class=\"col-md-8\">\n                                        <div class=\"card-body\">\n                                          <h5 class=\"card-title\">User</h5>\n                                          <p class=\"card-text\" style=\"width:300px;\">${username ? `${username}` : ''}</p>                                        \n                                          <p class=\"card-text\"><small class=\"text-muted\"></small></p>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>`\n    document.getElementById('welcomecontainer').appendChild(userInfoContainer)\n}","let _USERNAME = null\n\nexport const isuserpage = (endpoint) => {\n    let result = false\n    if (endpoint === '/mycompositions' || endpoint.includes('/compositionsbyuserid/') || endpoint.includes('/collectionastreebyid/')){\n        result = true\n    } \n    return result    \n}\n\nconst getCurrentUserName = () => {\n    return _USERNAME\n}\n\nexport const setCurrentUserName = (username) => {\n    _USERNAME = username\n}\n\nexport const displayUserNameInCard = (endpoint, username) => {\n    let displayName = false\n    if(!isuserpage(endpoint)){\n      displayName = true\n    } else {\n      displayName = (username !== getCurrentUserName())\n    }\n    return displayName\n  }\n\nconst getGroupsByCollAndUser = (compositionsList) => {\n\n    const groupedbycoll = {}\n    const groupedbyuser_aux = {}\n\n    compositionsList.forEach(composition => {\n\n        const collectionId = composition.collection_uid\n        const userId = composition.user_id\n\n        if (collectionId !== null) {\n            if (!groupedbycoll[collectionId]) {\n                groupedbycoll[collectionId] = []\n            }\n            groupedbycoll[collectionId].push(composition)\n        } else {\n            if (!groupedbyuser_aux[userId]) {\n                groupedbyuser_aux[userId] = []\n            }\n            groupedbyuser_aux[userId].push(composition)\n        }\n    })\n\n    return { groupedbycoll, groupedbyuser_aux }\n}\n\n\nconst getGroupsByCollectionAndSubColl = (compositionsList, parent_coll_id) => {\n\n    const groupedbycoll = {}\n    const singlecomps = []\n\n    compositionsList.forEach(composition => {\n\n        const collectionId = composition.collection_uid\n\n        if ((collectionId !== null) && (collectionId !== parent_coll_id)) {\n            if (!groupedbycoll[collectionId]) {\n                groupedbycoll[collectionId] = []\n            }\n            groupedbycoll[collectionId].push(composition)\n        } else {\n            singlecomps.push(composition)\n        }\n    })\n\n    return { groupedbycoll, singlecomps}\n}\n\nconst getGroupsByCollAndCollab = (compositionsList) => {\n\n    const groupedbycoll = {}\n    const groupedbycollab = {}\n    const singlecomps = []\n\n    compositionsList.forEach(composition => {\n\n        const collectionId = composition.collection_uid        \n\n        if (collectionId !== null) {\n            if (!groupedbycoll[collectionId]) {\n                groupedbycoll[collectionId] = []\n            }\n            groupedbycoll[collectionId].push(composition)\n        } else if (composition.contributors.length){\n            if (!groupedbycollab['collabs']) {\n                groupedbycollab['collabs'] = []\n            }\n            groupedbycollab['collabs'].push(composition)\n        } else {                \n            singlecomps.push(composition)\n        }\n    })\n\n    return { groupedbycoll, groupedbycollab, singlecomps }\n}\n\n// INFO: a group for a User is made if he has 2 or more compositions without Collection\nconst getFinalGroupByUserAndSingleComp = (groupedbyuser_aux) => {\n\n    const groupedbyuser_final = {}\n    const singlecomps = []\n\n    for (const elem in groupedbyuser_aux) {\n\n        if (groupedbyuser_aux[elem].length === 1) {\n            singlecomps.push(groupedbyuser_aux[elem][0])\n        } else {\n            if (!groupedbyuser_final[elem]) {\n                groupedbyuser_final[elem] = []\n            }\n            groupedbyuser_final[elem] = groupedbyuser_aux[elem]\n        }\n    }\n    return { singlecomps, groupedbyuser_final }\n}\n\nexport const getGroupedCompositionsWithUsers = (compositionsList) => {\n\n    const { groupedbycoll, groupedbyuser_aux } = getGroupsByCollAndUser(compositionsList)\n\n    const { singlecomps, groupedbyuser_final } = getFinalGroupByUserAndSingleComp(groupedbyuser_aux)\n\n    return {\n        groupedbycoll,\n        groupedbyuser_final,\n        singlecomps,\n    }\n}\n\nexport const getGroupedCompositionsWithCollab = (compositionsList) => {\n\n    const { groupedbycoll, groupedbycollab, singlecomps } = getGroupsByCollAndCollab(compositionsList)    \n    \n    return {\n        groupedbycoll,\n        groupedbycollab,\n        singlecomps,\n    }\n}\n\nexport const getGroupedCompositionsWithSubCollect = (compositionsList, parent_coll_id) => {\n\n    const { groupedbycoll, singlecomps } = getGroupsByCollectionAndSubColl(compositionsList, parent_coll_id)    \n    \n    return {\n        groupedbycoll,        \n        singlecomps,\n    }\n}\n","import { ENDPOINT } from '../../../common/js/config'\nimport {uriCompositionPage} from './home'\n\nlet EDIT_STATUS = false\n\nconst showAllCollButton = document.getElementById('openMyCollectionsButton')\nconst editButton = document.getElementById('editmycollectionsbutton')\n\nconst fetchCollectionsTree = async () => {\n    const response = await fetch('/mycollectionsastree')\n    const data = await response.json()\n    return data\n}\n\nconst createTreeHTML = (item) => {\n    let html = `\n        <span id='removeCollIcon${item.uuid}' data-uuid='${item.uuid}' data-title='${item.title}' role='button' class='badge badge-pill badge-danger' hidden>-</span>\n        <li id='${item.uuid}' class='list-group-item border-bottom-0 border-right-0 border-top-0 border-warning'>\n            <input type='text' class='form-control border-secondary' id='treecolltitleinput${item.uuid}' data-uuid='${item.uuid}' placeholder='Type a new title'\n            title='collectiontitle' value='${item.title}' disabled>\n        </li>`\n    \n    if (item.compositions.length > 0 || item.collections.length > 0) {\n        html += '<ul>'\n        for (const composition of item.compositions) {\n            html += `<li class='list-group-item border-0'><a href='${uriCompositionPage + composition.uuid}'><u>${composition.title}</u></a></li>`\n        }\n        for (const collection of item.collections) {\n            html += createTreeHTML(collection)\n        }\n        html += '</ul>'\n    }    \n    return html\n}\n\nconst renderTree = async () => {\n    const treeContainer = document.getElementById('listCollContainerAllColl')\n    const data = await fetchCollectionsTree()\n    let html = '<ul>'\n    for (const collection of data) {\n        html += createTreeHTML(collection)\n    }\n    html += '</ul>'\n    treeContainer.innerHTML = html\n}\n\nconst clickEditButtonHandler = () => {\n    \n    if(EDIT_STATUS){\n        EDIT_STATUS = false        \n        editButton.innerText =  'Edit'\n        disableEdition()\n    } else {\n        EDIT_STATUS = true\n        editButton.innerText =  'Done'\n        enableEdition()\n    }   \n}\n\nconst enableEdition = () => {\n    \n    const elementsWithHiddenAttribute = document.querySelectorAll(`[id*='removeCollIcon']`)\n\n    elementsWithHiddenAttribute.forEach(element => {\n        element.removeAttribute('hidden')        \n        removeCollectionClickhHandler(element.getAttribute('data-uuid'), element.getAttribute('data-title'))\n    })   \n    \n    const elementsWithDisabledAttribute = document.querySelectorAll(`[id*='treecolltitleinput']`)\n\n    elementsWithDisabledAttribute.forEach(element => {\n        element.removeAttribute('disabled')\n        updateInputTextEventHandler(element.getAttribute('data-uuid'), element.value)\n    })\n}\n\nconst disableEdition = () => {\n\n    const elementsWithHiddenAttribute = document.querySelectorAll(`[id*='removeCollIcon']`)\n\n    elementsWithHiddenAttribute.forEach(element => {\n        element.setAttribute('hidden', 'true')\n    })\n\n    const elementsWithDisabledAttribute = document.querySelectorAll(`[id*='treecolltitleinput']`)    \n\n    elementsWithDisabledAttribute.forEach(element => {\n        element.setAttribute('disabled', 'true')\n    })\n}\n\nconst clickAllCollButtonHandler = async () => {\n    EDIT_STATUS = false\n    editButton.innerText =  'Edit'\n    await renderTree()\n    editButton.addEventListener('click', clickEditButtonHandler, false)\n}\n\nshowAllCollButton?.addEventListener('click', clickAllCollButtonHandler, false)\n\nconst confirmDeleteCollectionModal = async (event, collectionId, collectionTitle) => {\n\n    const chk = event.target\n\n    if (chk.tagName === 'SPAN') {\n\n        if (confirm(`Are you sure you want remove the collection ${collectionTitle} and all of its content?`) == true) {\n\n            const response = await fetch(ENDPOINT + '/deletecollection/' + collectionId, { method: 'DELETE' })\n            if (response?.ok) {\n                document.getElementById('removeCollIcon'+collectionId).remove()\n                const listElemToDelete = document.getElementById(collectionId)\n                if(listElemToDelete?.nextSibling?.tagName === 'UL'){\n                    listElemToDelete.nextSibling.remove()\n                }\n                listElemToDelete.remove()\n            }\n\n        } else {\n            event.target.checked = false\n        }\n    }\n}\n\nconst removeCollectionClickhHandler = (collectionId, collectionTitle) => {\n    document.getElementById('removeCollIcon' + collectionId).onclick= async (event) => {\n        await confirmDeleteCollectionModal(event, collectionId, collectionTitle)\n    }\n}\n\nconst updateInputTextEventHandler = (collectionId, currentTitle) => {    \n    document.getElementById('treecolltitleinput'+collectionId).onblur = (event) => {\n        handleInputBlur(event, collectionId, currentTitle)\n    }    \n}\n\nconst updateCollectionTitleRqst = (value, uuid) => {\n   \n    const updateTitleApi = ENDPOINT + '/updatecolltitle'\n    const data = { title: value, uuid: uuid }\n    \n    fetch(updateTitleApi, {\n        method: 'PATCH', \n        headers: {\n        'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    })\n    .then()\n    .catch(error => {\n        console.error('Error updating value:', error)\n    })\n}\n\nconst handleInputBlur = (event, collId, currTitle) => {    \n    const newValue = event.target.value\n    if(currTitle !== newValue){\n        if (!newValue || newValue === '') {\n            event.target.value = currTitle\n            alert('Introduce a valid title, please')\n            return\n        } else {\n            updateCollectionTitleRqst(newValue, collId)\n        }\n    }\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$72c4f7ae54bd3a1f$var$ENVIRONMENTS","PROD","ENDPOINT","UPLOAD_ENDPOINT","STAGE","window","location","protocol","host","DEV","hostname","$8f8ed8369fbedf5d$export$29456ccb00e38680","$8f8ed8369fbedf5d$export$ff3ad29dbb546598","$8f8ed8369fbedf5d$export$36dfaec04418caa7","$8f8ed8369fbedf5d$export$a3c073b335a47d60","$8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3","$8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f","$8f8ed8369fbedf5d$export$8afc507ca675ea0e","$8f8ed8369fbedf5d$export$81e46b314cb8d8e3","$8f8ed8369fbedf5d$export$997d30e836e5c567","$8f8ed8369fbedf5d$export$706cf9fcefe67c8e","$8f8ed8369fbedf5d$export$3fc781af82c0c660","$8f8ed8369fbedf5d$export$95df08bae54cb4df","$9QUIF","freeze","none","owner","admin","member","guest","public","onlyreg","private","loaderId","loadingMessage","loaderElement","document","getElementById","nextElementSibling","textContent","classList","add","remove","apimethod","rqstmethod","body","request","method","headers","JSON","stringify","sendRqst","fetch","respToJson","json","error","str","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","goHomeLink","origin","href","test","navigator","userAgent","$c86008aa1df30816$export$207bec4913bdffa6","$c86008aa1df30816$export$7ed6abee26b8c64b","$ck9ES","userprofile","callback","cancelLoader","LOADER_ELEM_ID","terms_accepted","$c86008aa1df30816$export$95d7694256f75341","$","modal","backdrop","keyboard","onclick","$c86008aa1df30816$var$rqstAcceptTerms","$c86008aa1df30816$var$rqstRejectTerms","data","callJsonApi","ok","attachToElem","modalDialog","getElementsByTagName","insertAdjacentHTML","$fea3fc654cae5a2c$export$a9dbfb18603d6a77","$fea3fc654cae5a2c$export$66d4708c2e689cee","$fea3fc654cae5a2c$export$5a676dd14dd0be2c","response","result","alert","collections","listId","coll_id","theList","all_collections","listCollContainer","listOptions","selected","forEach","element","uuid","template","title","listElelemts","$9ddbe2ce5d0641a0$export$184163c68675dcce","isauth","isuserorcollection","$9ddbe2ce5d0641a0$var$createBreadCrumbNavBar","querySelectorAll","addEventListener","event","preventDefault","querySelector","currentTarget","$9ddbe2ce5d0641a0$export$ff7962acd6052c28","getAttribute","navBar","userOptions","innerHTML","section","url","URL","searchParams","delete","history","replaceState","$cbb11aa408cc55db$export$8d85b36da8527a05","$cbb11aa408cc55db$export$b99e48ec291af6c0","hidden","$cbb11aa408cc55db$export$556539c2d93a797d","console","log","$hcAI8","$0eda0ef69e92e3bb$var$_USERNAME","$0eda0ef69e92e3bb$export$1badf4b56a2f2c08","endpoint","includes","$0eda0ef69e92e3bb$var$getCurrentUserName","$0eda0ef69e92e3bb$export$149136365741a43c","username","$0eda0ef69e92e3bb$export$a04c3fad920d835e","$0eda0ef69e92e3bb$var$getGroupsByCollAndUser","compositionsList","groupedbycoll","groupedbyuser_aux","composition","collectionId","collection_uid","userId","user_id","push","$0eda0ef69e92e3bb$var$getGroupsByCollectionAndSubColl","parent_coll_id","singlecomps","$0eda0ef69e92e3bb$var$getGroupsByCollAndCollab","groupedbycollab","contributors","$0eda0ef69e92e3bb$var$getFinalGroupByUserAndSingleComp","groupedbyuser_final","elem","$0eda0ef69e92e3bb$export$2095d3815b0f7547","$0eda0ef69e92e3bb$export$6d37f804b553eac7","$0eda0ef69e92e3bb$export$46ab7a802f6f7711","$f24241b8655841c9$var$CARD_BADGE_STYLE","$f24241b8655841c9$var$CARD_BORDER_STYLE","$f24241b8655841c9$var$URI_PAGE","uriCollectionPage","uriUserPage","$f24241b8655841c9$export$bca9dffb57f7792b","numberGroupsByCollections","numberGroupsCustom","numberSinglComp","totalcomps","displayGroupsByLabel","$f24241b8655841c9$export$1f60eb8703988013","legendButtons","removeAttribute","$f24241b8655841c9$export$971becedf6ebeceb","displayName","displayNumCollabs","$cbb11aa408cc55db$export$4cd34456ac1eb639","PRIVACY_BADGE_STYLE","privacy","PRIVACY_BADGE_TEXT","opentocontrib","$cbb11aa408cc55db$export$5e4b5ab8660ba9d5","description","owner_uuid","tracks","$f24241b8655841c9$export$cbdc54c51b649c98","item","typebadge","$f24241b8655841c9$export$da2a595be284078a","numitems","groupTitle","groupId","listgroup","badegstyle","borderstyle","badgeDisplayed","$f24241b8655841c9$export$2ccaa4a069104255","hidetext","welcomecontainer","lastChild","removeChild","welcometextelem","createElement","appendChild","$f24241b8655841c9$export$206832d47f4d1079","collectiontitle","collectionInfoContainer","$f24241b8655841c9$export$b8abf8ca7249a7d2","useruid","userInfoContainer","$cbb11aa408cc55db$var$homePageTermsAccepted","termsAccepted","generateAcceptTermsModal","$cbb11aa408cc55db$var$getMyProfile","isAuthenticated","name","style","display","innerText","checkIfTermsAccepted","compositions","$cbb11aa408cc55db$var$renderHomePage","$cbb11aa408cc55db$var$getCompositionsByUserUid","auth","$cbb11aa408cc55db$var$getCompositionsByColelctionUid","collectionuid","collection_name","owneruid","notUserPublicPage","$cbb11aa408cc55db$var$renderHomePageWithLists","$cbb11aa408cc55db$var$paintListOfCompositions","replace","$cbb11aa408cc55db$var$paintGroupCollection","listcomps","allCompUIelem","comp","values","parent_collection","$cbb11aa408cc55db$var$getSingleComps","groupedComps","listCompsSingle","customgroup","keys","numberCustomGroups","$cbb11aa408cc55db$var$initHomPage","queryString","search","split","isAuth","activateGoHomeLink","$lRrDz","$00165315f9e42e8b$var$EDIT_STATUS","$00165315f9e42e8b$var$showAllCollButton","$00165315f9e42e8b$var$editButton","$00165315f9e42e8b$var$fetchCollectionsTree","$00165315f9e42e8b$var$createTreeHTML","html","collection","$00165315f9e42e8b$var$renderTree","treeContainer","$00165315f9e42e8b$var$clickEditButtonHandler","$00165315f9e42e8b$var$disableEdition","$00165315f9e42e8b$var$enableEdition","elementsWithHiddenAttribute","$00165315f9e42e8b$var$removeCollectionClickhHandler","elementsWithDisabledAttribute","$00165315f9e42e8b$var$updateInputTextEventHandler","value","setAttribute","$00165315f9e42e8b$var$clickAllCollButtonHandler","$00165315f9e42e8b$var$confirmDeleteCollectionModal","collectionTitle","chk","target","tagName","confirm","listElemToDelete","nextSibling","checked","currentTitle","onblur","$00165315f9e42e8b$var$handleInputBlur","$00165315f9e42e8b$var$updateCollectionTitleRqst","then","catch","collId","currTitle","newValue","$63f03976c6741a52$var$createNewButton","$63f03976c6741a52$var$createNewButtonAtHome","$63f03976c6741a52$var$clickNewButtonHandler","$63f03976c6741a52$var$saveEventListener","getCollections","$63f03976c6741a52$var$getCompCollSuccess","getCollectionsError","list","replaceChildren","createListCollections","saveCompositionButton","$63f03976c6741a52$var$saveEventListenerHandler","newCreation","apiMethod","newtitle","privacyLevel","newdescription","collectInput","parentCollection","privacy_level","parent_uuid","r","statusText","$63f03976c6741a52$var$verifyResponse"],"version":3,"file":"index.a732d1f9.js.map"}