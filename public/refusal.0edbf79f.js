!function(){function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequire1e7e;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequire1e7e=i);var r=i.register;r("7hG31",function(t,o){e(t.exports,"LOADER_ELEM_ID",function(){return r}),e(t.exports,"uriUserPage",function(){return l}),e(t.exports,"uriCollectionPage",function(){return a}),e(t.exports,"LevelPrivacy",function(){return c}),e(t.exports,"PRIVACY_BADGE_STYLE",function(){return d}),e(t.exports,"PRIVACY_BADGE_TEXT",function(){return u}),e(t.exports,"startLoader",function(){return s}),e(t.exports,"cancelLoader",function(){return f}),e(t.exports,"callJsonApi",function(){return p}),e(t.exports,"looksLikeMail",function(){return m}),e(t.exports,"activateGoHomeLink",function(){return E}),e(t.exports,"MEDIA_CONSTRAINTS",function(){return g});var n=i("72lX3");let r="loader",l="/index.html?userid=",a="/index.html?collectionid=";Object.freeze({none:0,owner:1,admin:2,member:3,guest:4});let c=Object.freeze({public:1,onlyreg:2,private:3}),d={[c.public]:"badge-public",[c.onlyreg]:"badge-onlyreg",[c.private]:"badge-private"},u={[c.public]:"PUBLIC",[c.onlyreg]:"REG USERS",[c.private]:"PRIVATE"},s=(e,t)=>{let o=document.getElementById(e);o.nextElementSibling.textContent=t,o.classList.add(e)},f=e=>{let t=document.getElementById(e);t.classList.remove(e),t.nextElementSibling.textContent=""},p=async(e,t,o)=>{let i={method:t||"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};o&&(i.body=JSON.stringify(o));try{s(r,"Loading...");let t=await fetch(n.ENDPOINT+e,i);f(r);let o=await t.json();if(o&&!o.error)return o;return(null==o?void 0:o.error)||"An error occurred"}catch(e){return f(r),e}},m=e=>{let t=e.lastIndexOf("@"),o=e.lastIndexOf(".");return t<o&&t>0&&-1==e.indexOf("@@")&&o>2&&e.length-o>2},E=()=>{let e=document.getElementById("goHome");"localhost:80"===window.location.host||"http://localhost"===window.location.origin?e.href=window.location.origin+"/index.html":e.href=window.location.origin};/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let g={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,latency:0,channelCount:1}}}),r("72lX3",function(e,t){let o="STAGE",n={PROD:{ENDPOINT:"",UPLOAD_ENDPOINT:""},STAGE:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"},DEV:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"}};e.exports={ENDPOINT:n[o].ENDPOINT,UPLOAD_ENDPOINT:n[o].UPLOAD_ENDPOINT}});var l=i("7hG31");let a=new URLSearchParams(document.location.search).get("code");a?document.getElementById("inputrefusalcode").value=a:document.getElementById("code-refusal-container").hidden=!1;let c=async()=>{let e=document.getElementById("inputemailtoremove").value;if((0,l.looksLikeMail)(e)){let t=document.getElementById("inputrefusalcode").value,o=await (0,l.callJsonApi)("/refuseinvitation","POST",{email:e,refusal_code:t});o.ok?(alert("Your information has been sucessfully removed."),window.location.href=window.location.origin):alert(o)}else document.getElementById("inputemailtoremove").classList.add("is-invalid"),document.getElementById("validationEmailResult").innerText="Sorry, invalid email address format."};(0,l.activateGoHomeLink)(),document.getElementById("requestremovalbutton").onclick=c,(0,l.cancelLoader)(l.LOADER_ELEM_ID)}();
//# sourceMappingURL=refusal.0edbf79f.js.map
