function e(e,o,n,t){Object.defineProperty(e,o,{get:n,set:t,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=o.parcelRequire1e7e;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in t){var o=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,o){t[e]=o},o.parcelRequire1e7e=r);var i=r.register;i("jXEky",function(o,n){e(o.exports,"uriUserPage",function(){return i}),e(o.exports,"uriCollectionPage",function(){return l}),e(o.exports,"UserRole",function(){return a}),e(o.exports,"LevelPrivacy",function(){return c}),e(o.exports,"PRIVACY_BADGE_STYLE",function(){return d}),e(o.exports,"PRIVACY_BADGE_TEXT",function(){return u}),e(o.exports,"startLoader",function(){return s}),e(o.exports,"cancelLoader",function(){return p}),e(o.exports,"callJsonApi",function(){return f}),e(o.exports,"looksLikeMail",function(){return m}),e(o.exports,"activateGoHomeLink",function(){return w}),e(o.exports,"MEDIA_CONSTRAINTS",function(){return g});var t=r("hbluw");let i="/index.html?userid=",l="/index.html?collectionid=",a=Object.freeze({none:0,owner:1,admin:2,member:3,guest:4}),c=Object.freeze({public:1,onlyreg:2,private:3}),d={[c.public]:"badge-public",[c.onlyreg]:"badge-onlyreg",[c.private]:"badge-private"},u={[c.public]:"PUBLIC",[c.onlyreg]:"REG USERS",[c.private]:"PRIVATE"},s=e=>{let o=document.getElementById("loader");o.innerHTML=`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>&nbsp;${e}`,o.classList.remove("loader-hidden")},p=()=>{document.getElementById("loader").classList.add("loader-hidden")},f=async(e,o,n,r)=>{let i={method:o||"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};n&&(i.body=JSON.stringify(n));try{r&&s(r);let o=await fetch(t.ENDPOINT+e,i);r&&p();let n=await o.json();if(n&&!n.error)return n;return(null==n?void 0:n.error)||"An error occurred"}catch(e){return r&&p(),e}},m=e=>{let o=e.lastIndexOf("@"),n=e.lastIndexOf(".");return o<n&&o>0&&-1==e.indexOf("@@")&&n>2&&e.length-n>2},w=()=>{let e=document.getElementById("goHome");"localhost:80"===window.location.host||"http://localhost"===window.location.origin?e.href=window.location.origin+"/index.html":e.href=window.location.origin};/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let g={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,latency:0,channelCount:1}}}),i("hbluw",function(o,n){e(o.exports,"ENDPOINT",function(){return r}),e(o.exports,"UPLOAD_ENDPOINT",function(){return i});let t={PROD:{ENDPOINT:"",UPLOAD_ENDPOINT:""},STAGE:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"},DEV:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"}},r=t.DEV.ENDPOINT,i=t.DEV.UPLOAD_ENDPOINT});var l=r("jXEky");let a=new URLSearchParams(document.location.search).get("code");a?document.getElementById("inputrefusalcode").value=a:document.getElementById("code-refusal-container").hidden=!1;const c=async()=>{let e=document.getElementById("inputemailtoremove").value;if((0,l.looksLikeMail)(e)){let o=document.getElementById("inputrefusalcode").value,n=await (0,l.callJsonApi)("/refuseinvitation","POST",{email:e,refusal_code:o},"Sending request...");n.ok?(alert("Your information has been sucessfully removed."),window.location.href=window.location.origin):alert(n)}else document.getElementById("inputemailtoremove").classList.add("is-invalid"),document.getElementById("validationEmailResult").innerText="Sorry, invalid email address format."};(0,l.activateGoHomeLink)(),document.getElementById("requestremovalbutton").onclick=c,(0,l.cancelLoader)();
//# sourceMappingURL=refusal.40472f5b.js.map
