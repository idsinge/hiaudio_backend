{"version":3,"sources":["common/js/config.js","common/js/utils.js","pages/composition/scripts/webdictaphone/webdictaphone_ui.js","pages/composition/scripts/webdictaphone/webdictaphone.js"],"names":["MODE","DEVPORT","ENVIRONMENTS","PROD","ENDPOINT","UPLOAD_ENDPOINT","STAGE","window","location","protocol","host","DEV","hostname","module","exports","LOADER_ELEM_ID","uriUserPage","uriCollectionPage","UserRole","Object","freeze","none","owner","admin","member","guest","LevelPrivacy","public","onlyreg","private","PRIVACY_BADGE_STYLE","PRIVACY_BADGE_TEXT","startLoader","loaderId","loadingMessage","loaderElement","document","getElementById","nextElementSibling","textContent","classList","add","cancelLoader","remove","callJsonApi","apimethod","rqstmethod","body","request","method","headers","JSON","stringify","fetch","sendRqst","json","respToJson","error","looksLikeMail","str","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","activateGoHomeLink","goHomeLink","origin","href","isSafari","test","navigator","userAgent","canvasRealTime","querySelector","canvasCtx","getContext","mainSection","setCanvasData","bufferLength","dataArray","width","offsetWidth","WIDTH","HEIGHT","height","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","y","moveTo","lineTo","stroke","buttonHandlers","mediaRecorder","recordButton","stopButton","disabled","onclick","start","style","background","stop","color","mediaRecorderStopUI","audioURL","clipContainer","createClipContainer","appendChild","clipLabel","createClipNameLabel","audioElem","createAudioElem","deleteButton","createDeleteButton","createElement","clipName","Date","toLocaleTimeString","setAttribute","controls","src","className","e","target","closest","gainSlider","TestMic","stream","micGain","localStorage","getItem","CURRENT_GAIN_TEST_MIC","parseInt","audioCtxTestMic","AudioContext","micsource","createMediaStreamSource","gainNode","createGain","gain","value","connect","analyser","createAnalyser","fftSize","dest","createMediaStreamDestination","MediaRecorder","draw","mediaRecoderHandlers","uiHandlers","chunks","onstop","event","blob","Blob","type","mimeType","URL","createObjectURL","ondataavailable","push","data","me","frequencyBinCount","Uint8Array","getByteTimeDomainData","requestAnimationFrame","recordGainNode","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","then","getUserMediaOnSuccess","err","console","log","$","on","destination","state","resume","disconnect","addEventListener","newGainValue","parseFloat","setItem"],"mappings":"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","file":"webdictaphone.a0a8413b.js","sourceRoot":"../webapp/src","sourcesContent":["const MODE = 'STAGE' // STAGE\nconst DEVPORT = 7007\n\nconst ENVIRONMENTS = {\n    PROD:{        \n        ENDPOINT:'',\n        UPLOAD_ENDPOINT:''        \n    },\n    STAGE:{        \n        ENDPOINT: window.location.protocol+'//'+window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol+'//'+window.location.host+'/fileUpload'       \n    },\n    DEV:{        \n        ENDPOINT:window.location.protocol+'//'+window.location.hostname+':'+DEVPORT,\n        UPLOAD_ENDPOINT:window.location.protocol+'//'+window.location.hostname+':'+DEVPORT+'/fileUpload'        \n    }\n}\n\nmodule.exports = {    \n    ENDPOINT: ENVIRONMENTS[MODE].ENDPOINT,\n    UPLOAD_ENDPOINT: ENVIRONMENTS[MODE].UPLOAD_ENDPOINT\n}","import { ENDPOINT } from './config'\n\nexport const LOADER_ELEM_ID = 'loader'\n\nexport const uriUserPage = '/index.html?userid='\nexport const uriCollectionPage = '/index.html?collectionid='\n\nexport const UserRole = Object.freeze({\n    none : 0,\n    owner : 1,\n    admin : 2,\n    member : 3,\n    guest : 4\n})\n\nexport const LevelPrivacy = Object.freeze({\n    public : 1,\n    onlyreg : 2,\n    private : 3\n})\n\nexport const PRIVACY_BADGE_STYLE = {[LevelPrivacy.public] : 'badge-public', [LevelPrivacy.onlyreg] : 'badge-onlyreg', [LevelPrivacy.private] : 'badge-private'}\nexport const PRIVACY_BADGE_TEXT = {[LevelPrivacy.public] : 'PUBLIC', [LevelPrivacy.onlyreg] : 'REG USERS', [LevelPrivacy.private] : 'PRIVATE'}\n\nexport const startLoader = (loaderId, loadingMessage) => {    \n    const loaderElement = document.getElementById(loaderId)    \n    loaderElement.nextElementSibling.textContent = loadingMessage\n    loaderElement.classList.add(loaderId)\n}\n\nexport const cancelLoader = (loaderId) => {\n    const loaderElement = document.getElementById(loaderId)\n    loaderElement.classList.remove(loaderId)\n    loaderElement.nextElementSibling.textContent = ''\n}\n\nexport const callJsonApi = async (apimethod, rqstmethod, body) => {\n    const request = {\n        method: rqstmethod || 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        }\n    }\n    if(body){\n        request.body = JSON.stringify(body)\n    }\n    try {\n        startLoader(LOADER_ELEM_ID, 'Loading...')\n        const sendRqst = await fetch(ENDPOINT + apimethod, request)\n        cancelLoader(LOADER_ELEM_ID)\n        const respToJson = await sendRqst.json()\n        if (respToJson && !respToJson.error) {\n            returnÂ respToJson\n        } else {\n            return (respToJson?.error || 'An error occurred')\n        }\n    } catch (error) {\n        cancelLoader(LOADER_ELEM_ID)\n        return(error)\n    }\n}\n\n/* https://stackoverflow.com/a/5166806 */\nexport const looksLikeMail = (str) => {\n    const lastAtPos = str.lastIndexOf('@')\n    const lastDotPos = str.lastIndexOf('.')\n    return (lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf('@@') == -1 && lastDotPos > 2 && (str.length - lastDotPos) > 2)\n}\n\nexport const activateGoHomeLink = () => {\n    const goHomeLink = document.getElementById('goHome')\n    if(window.location.host === 'localhost:80' || window.location.origin === 'http://localhost'){\n        goHomeLink.href = window.location.origin + '/index.html'\n    } else {\n        goHomeLink.href = window.location.origin\n    }\n}\n\nexport const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)","const canvasRealTime = document.querySelector('.visualizer-test-mic')\nconst canvasCtx = canvasRealTime.getContext('2d')\nconst mainSection = document.querySelector('.main-controls-test-mic')\n\nexport const setCanvasData = (bufferLength, dataArray) => {\n    canvasRealTime.width = mainSection.offsetWidth\n    const WIDTH = canvasRealTime.width\n    const HEIGHT = canvasRealTime.height\n\n    canvasCtx.fillStyle = 'rgb(200, 200, 200)'\n    canvasCtx.fillRect(0, 0, WIDTH, HEIGHT)\n\n    canvasCtx.lineWidth = 2\n    canvasCtx.strokeStyle = 'rgb(0, 0, 0)'\n\n    canvasCtx.beginPath()\n\n    let sliceWidth = (WIDTH * 1.0) / bufferLength\n    let x = 0\n\n    for (let i = 0; i < bufferLength; i++) {\n        let v = dataArray[i] / 128.0\n        let y = (v * HEIGHT) / 2\n\n        if (i === 0) {\n            canvasCtx.moveTo(x, y)\n        } else {\n            canvasCtx.lineTo(x, y)\n        }\n\n        x += sliceWidth\n    }\n\n    canvasCtx.lineTo(canvasRealTime.width, canvasRealTime.height / 2)\n    canvasCtx.stroke()\n}\n\nexport const buttonHandlers = (mediaRecorder) => {\n    const recordButton = document.querySelector('.record-test-mic')\n    const stopButton = document.querySelector('.stop-test-mic')\n    stopButton.disabled = true\n    recordButton.onclick = function () {\n        mediaRecorder.start()\n        recordButton.style.background = 'red'\n        stopButton.disabled = false\n        recordButton.disabled = true\n    }\n\n    stopButton.onclick = function () {\n        mediaRecorder.stop()\n        recordButton.style.background = ''\n        recordButton.style.color = ''\n        stopButton.disabled = true\n        recordButton.disabled = false\n    }   \n}\n\n\nexport const mediaRecorderStopUI = (audioURL) => {\n    const clipContainer = createClipContainer(audioURL)\n    const soundClips = document.querySelector('.sound-clips-test-mic')\n    soundClips.appendChild(clipContainer)\n}\n\nconst createClipContainer = (audioURL) => {\n\n    const clipLabel = createClipNameLabel()\n    const audioElem = createAudioElem(audioURL)\n    const deleteButton = createDeleteButton()\n\n    const clipContainer = document.createElement('article')\n    clipContainer.classList.add('clip-test-mic')\n    clipContainer.appendChild(audioElem)\n    clipContainer.appendChild(clipLabel)\n    clipContainer.appendChild(deleteButton)\n\n    return clipContainer\n}\n\nconst createClipNameLabel = () => {\n    const clipName = 'test (' + new Date().toLocaleTimeString() + ')'   \n    const clipLabel = document.createElement('span')\n    clipLabel.textContent = clipName\n    return clipLabel\n}\n\nconst createAudioElem = (audioURL) => {\n    const audioElem = document.createElement('audio')\n    audioElem.setAttribute('controls', '')\n    audioElem.classList.add('audio-test-mic')\n    audioElem.controls = true\n    audioElem.src = audioURL\n    return audioElem\n}\n\nconst createDeleteButton = () => {\n    const deleteButton = document.createElement('button')\n    deleteButton.textContent = 'Delete'\n    deleteButton.className = 'button-test-mic delete'\n    deleteButton.onclick = function (e) {\n        e.target.closest('.clip-test-mic').remove()\n    }\n    return deleteButton\n}","import { isSafari } from '../../../../common/js/utils'\nimport { setCanvasData, buttonHandlers, mediaRecorderStopUI } from './webdictaphone_ui'\n\n/* SOURCE: https://github.com/mdn/dom-examples/blob/main/media/web-dictaphone */\n\nconst gainSlider = document.getElementById('gainSliderTestMic')\n\nexport class TestMic {\n    \n    constructor() {\n        this.CURRENT_GAIN_TEST_MIC = 1\n        this.audioCtxTestMic = null\n        this.analyser = null\n        this.gainNode = null\n        this.recordGainNode = null\n    }  \n\n    init(recordGainNode){\n        \n        const me  = this\n        \n        if (navigator.mediaDevices.getUserMedia) {\n\n            const constraints = { audio: { echoCancellation: false, noiseSuppression: false, autoGainControl: false } }\n\n            const onSuccess = function (stream) {\n                me.recordGainNode = recordGainNode\n                me.getUserMediaOnSuccess(stream)\n            }\n\n            const onError = function (err) {\n                console.log('The following error occured: ' + err)\n            }\n\n            navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError)\n\n        } else {\n            console.log('MediaDevices.getUserMedia() not supported on your browser!')\n        }\n    }\n    getUserMediaOnSuccess = (stream) => {\n\n        const micGain = localStorage.getItem('micgain')\n        this.CURRENT_GAIN_TEST_MIC = micGain ? parseInt(micGain) : this.CURRENT_GAIN_TEST_MIC\n        \n        if (!this.audioCtxTestMic) {\n            this.audioCtxTestMic = new AudioContext()\n        }\n    \n        const micsource = this.audioCtxTestMic.createMediaStreamSource(stream)\n    \n        this.gainNode = this.audioCtxTestMic.createGain()\n        this.gainNode.gain.value = this.CURRENT_GAIN_TEST_MIC\n    \n        micsource.connect(this.gainNode)\n        this.analyser = this.audioCtxTestMic.createAnalyser()\n        this.analyser.fftSize = 2048\n        this.gainNode.connect(this.analyser)\n        const dest = this.audioCtxTestMic.createMediaStreamDestination()\n        this.gainNode.connect(dest)\n        const mediaRecorder = new MediaRecorder(dest.stream)\n    \n        this.draw()\n        buttonHandlers(mediaRecorder)\n        this.mediaRecoderHandlers(mediaRecorder)\n        this.uiHandlers()\n    }\n    mediaRecoderHandlers = (mediaRecorder) => {\n        let chunks = []\n        mediaRecorder.onstop = function (event) {\n            const blob = new Blob(chunks, { type: mediaRecorder.mimeType })\n            chunks = []\n            const audioURL = window.URL.createObjectURL(blob)\n            mediaRecorderStopUI(audioURL)\n        }\n        mediaRecorder.ondataavailable = function (e) {\n            chunks.push(e.data)\n        }\n    }\n    draw = () => {\n        const me  = this\n        const bufferLength = this.analyser.frequencyBinCount\n        const dataArray = new Uint8Array(bufferLength)\n        this.analyser.getByteTimeDomainData(dataArray)\n        setCanvasData(bufferLength, dataArray)\n        requestAnimationFrame(() => {\n            me.draw()\n        })\n    }\n    uiHandlers(){\n        const me = this\n        $('#testMicrophoneModal').on('show.bs.modal', async (event) => {\n            gainSlider.value = me.CURRENT_GAIN_TEST_MIC\n            document.getElementById('current-input-gain-test-mic').value = me.CURRENT_GAIN_TEST_MIC\n            me.analyser.connect(me.audioCtxTestMic.destination)\n            if (isSafari) {\n                console.log(`Audio context state change: ${me.audioCtxTestMic.state}`)\n                if (me.audioCtxTestMic.state === 'suspended') {\n                    await me.audioCtxTestMic.resume()\n                }\n            }\n        })\n        \n        $('#testMicrophoneModal').on('hide.bs.modal', async (event) => {\n            me.analyser.disconnect()\n        })\n        \n        gainSlider.addEventListener('input', function () {\n            const newGainValue = parseFloat(this.value)\n            me.CURRENT_GAIN_TEST_MIC = newGainValue\n            me.gainNode.gain.value = newGainValue\n            me.recordGainNode.gain.value = newGainValue\n            localStorage.setItem('micgain', newGainValue)\n            document.getElementById('current-input-gain-test-mic').value = newGainValue\n        })\n    }\n}"]}