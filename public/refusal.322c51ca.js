function e(e,o,t,n){Object.defineProperty(e,o,{get:t,set:n,enumerable:!0,configurable:!0})}var o=globalThis,t={},n={},i=o.parcelRequire1e7e;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){n[e]=o},o.parcelRequire1e7e=i);var r=i.register;r("ck9ES",function(o,t){e(o.exports,"LOADER_ELEM_ID",()=>r),e(o.exports,"uriUserPage",()=>l),e(o.exports,"uriCollectionPage",()=>a),e(o.exports,"LevelPrivacy",()=>c),e(o.exports,"PRIVACY_BADGE_STYLE",()=>d),e(o.exports,"PRIVACY_BADGE_TEXT",()=>s),e(o.exports,"startLoader",()=>u),e(o.exports,"cancelLoader",()=>p),e(o.exports,"callJsonApi",()=>m),e(o.exports,"looksLikeMail",()=>E),e(o.exports,"activateGoHomeLink",()=>g),e(o.exports,"isSafari",()=>w);var n=i("9QUIF");let r="loader",l="/index.html?userid=",a="/index.html?collectionid=";Object.freeze({none:0,owner:1,admin:2,member:3,guest:4});let c=Object.freeze({public:1,onlyreg:2,private:3}),d={[c.public]:"badge-public",[c.onlyreg]:"badge-onlyreg",[c.private]:"badge-private"},s={[c.public]:"PUBLIC",[c.onlyreg]:"REG USERS",[c.private]:"PRIVATE"},u=(e,o)=>{let t=document.getElementById(e);t.nextElementSibling.textContent=o,t.classList.add(e)},p=e=>{let o=document.getElementById(e);o.classList.remove(e),o.nextElementSibling.textContent=""},m=async(e,o,t)=>{let i={method:o||"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}};t&&(i.body=JSON.stringify(t));try{u(r,"Loading...");let o=await fetch(n.ENDPOINT+e,i);p(r);let t=await o.json();if(t&&!t.error)return t;return t?.error||"An error occurred"}catch(e){return p(r),e}},E=e=>{let o=e.lastIndexOf("@"),t=e.lastIndexOf(".");return o<t&&o>0&&-1==e.indexOf("@@")&&t>2&&e.length-t>2},g=()=>{let e=document.getElementById("goHome");"localhost:80"===window.location.host||"http://localhost"===window.location.origin?e.href=window.location.origin+"/index.html":e.href=window.location.origin},w=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}),r("9QUIF",function(e,o){let t={PROD:{ENDPOINT:"",UPLOAD_ENDPOINT:""},STAGE:{ENDPOINT:window.location.protocol+"//"+window.location.host,UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.host+"/fileUpload"},DEV:{ENDPOINT:window.location.protocol+"//"+window.location.hostname+":7007",UPLOAD_ENDPOINT:window.location.protocol+"//"+window.location.hostname+":7007/fileUpload"}};e.exports={ENDPOINT:t.DEV.ENDPOINT,UPLOAD_ENDPOINT:t.DEV.UPLOAD_ENDPOINT}});var l=i("ck9ES");const a=async()=>{let e=document.getElementById("inputemailtoremove").value;if((0,l.looksLikeMail)(e)){let o=document.getElementById("inputrefusalcode").value,t=await (0,l.callJsonApi)("/refuseinvitation","POST",{email:e,refusal_code:o});t.ok?(alert("Your information has been sucessfully removed."),window.location.href=window.location.origin):alert(t)}else document.getElementById("inputemailtoremove").classList.add("is-invalid"),document.getElementById("validationEmailResult").innerText="Sorry, invalid email address format."};(0,l.activateGoHomeLink)(),document.getElementById("requestremovalbutton").onclick=a,(0,l.cancelLoader)(l.LOADER_ELEM_ID);
//# sourceMappingURL=refusal.322c51ca.js.map
