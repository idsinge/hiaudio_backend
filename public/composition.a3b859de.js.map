{"mappings":"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","sources":["<anon>","src/pages/composition/scripts/webdictaphone/webdictaphone.js","src/common/js/utils.js","src/common/js/config.js","src/pages/composition/scripts/webdictaphone/webdictaphone_ui.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire1e7e\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire1e7e\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"04BFj\", function(module, exports) {\n\n$parcel$export(module.exports, \"TestMic\", () => $00dd97663630ab9a$export$a131b61ceae72f7a);\n\nvar $ck9ES = parcelRequire(\"ck9ES\");\n\nvar $4TAOB = parcelRequire(\"4TAOB\");\n/* SOURCE: https://github.com/mdn/dom-examples/blob/main/media/web-dictaphone */ const $00dd97663630ab9a$var$gainSlider = document.getElementById(\"gainSliderTestMic\");\nclass $00dd97663630ab9a$export$a131b61ceae72f7a {\n    constructor(){\n        this.CURRENT_GAIN_TEST_MIC = 1;\n        this.audioCtxTestMic = null;\n        this.analyser = null;\n        this.gainNode = null;\n        this.recordGainNode = null;\n        this.buttonHandlers = null;\n    }\n    init(recordGainNode) {\n        const me = this;\n        if (navigator.mediaDevices.getUserMedia) {\n            const constraints = {\n                audio: {\n                    echoCancellation: false,\n                    noiseSuppression: false,\n                    autoGainControl: false\n                }\n            };\n            const onSuccess = function(stream) {\n                me.recordGainNode = recordGainNode;\n                me.getUserMediaOnSuccess(stream);\n            };\n            const onError = function(err) {\n                console.log(\"The following error occured: \" + err);\n            };\n            navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n        } else console.log(\"MediaDevices.getUserMedia() not supported on your browser!\");\n    }\n    getUserMediaOnSuccess(stream) {\n        const micGain = localStorage.getItem(\"micgain\");\n        this.CURRENT_GAIN_TEST_MIC = micGain ? parseInt(micGain) : this.CURRENT_GAIN_TEST_MIC;\n        if (!this.audioCtxTestMic) this.audioCtxTestMic = new AudioContext();\n        const micsource = this.audioCtxTestMic.createMediaStreamSource(stream);\n        this.gainNode = this.audioCtxTestMic.createGain();\n        this.gainNode.gain.value = this.CURRENT_GAIN_TEST_MIC;\n        micsource.connect(this.gainNode);\n        this.analyser = this.audioCtxTestMic.createAnalyser();\n        this.analyser.fftSize = 2048;\n        this.gainNode.connect(this.analyser);\n        const dest = this.audioCtxTestMic.createMediaStreamDestination();\n        this.gainNode.connect(dest);\n        const mediaRecorder = new MediaRecorder(dest.stream);\n        this.draw();\n        this.buttonHandlers = new (0, $4TAOB.ButtonHandlers)(mediaRecorder, this);\n        this.buttonHandlers.init();\n        this.mediaRecoderHandlers(mediaRecorder);\n        this.uiHandlers();\n    }\n    mediaRecoderHandlers(mediaRecorder) {\n        let chunks = [];\n        mediaRecorder.onstop = function(event) {\n            const blob = new Blob(chunks, {\n                type: mediaRecorder.mimeType\n            });\n            chunks = [];\n            const audioURL = window.URL.createObjectURL(blob);\n            (0, $4TAOB.mediaRecorderStopUI)(audioURL);\n        };\n        mediaRecorder.ondataavailable = function(e) {\n            chunks.push(e.data);\n        };\n    }\n    draw() {\n        const me = this;\n        const bufferLength = this.analyser.frequencyBinCount;\n        const dataArray = new Uint8Array(bufferLength);\n        this.analyser.getByteTimeDomainData(dataArray);\n        (0, $4TAOB.setCanvasData)(bufferLength, dataArray);\n        requestAnimationFrame(()=>{\n            me.draw();\n        });\n    }\n    async connectSource() {\n        this.analyser.connect(this.audioCtxTestMic.destination);\n        if (0, $ck9ES.isSafari) {\n            console.log(`Audio context state change: ${this.audioCtxTestMic.state}`);\n            if (this.audioCtxTestMic.state === \"suspended\") await this.audioCtxTestMic.resume();\n        }\n    }\n    disconnectSource() {\n        this.analyser.disconnect();\n    }\n    uiHandlers() {\n        const me = this;\n        $(\"#testMicrophoneModal\").on(\"show.bs.modal\", (event)=>{\n            $00dd97663630ab9a$var$gainSlider.value = me.CURRENT_GAIN_TEST_MIC;\n            document.getElementById(\"current-input-gain-test-mic\").value = me.CURRENT_GAIN_TEST_MIC;\n        });\n        $(\"#testMicrophoneModal\").on(\"hide.bs.modal\", async (event)=>{\n            me.buttonHandlers.stopButtonClick();\n            me.analyser.disconnect();\n        });\n        $00dd97663630ab9a$var$gainSlider.addEventListener(\"input\", function() {\n            const newGainValue = parseFloat(this.value);\n            me.CURRENT_GAIN_TEST_MIC = newGainValue;\n            me.gainNode.gain.value = newGainValue;\n            me.recordGainNode.gain.value = newGainValue;\n            localStorage.setItem(\"micgain\", newGainValue);\n            document.getElementById(\"current-input-gain-test-mic\").value = newGainValue;\n        });\n    }\n}\n\n});\nparcelRegister(\"ck9ES\", function(module, exports) {\n\n$parcel$export(module.exports, \"LOADER_ELEM_ID\", () => $8f8ed8369fbedf5d$export$29456ccb00e38680);\n$parcel$export(module.exports, \"uriUserPage\", () => $8f8ed8369fbedf5d$export$ff3ad29dbb546598);\n$parcel$export(module.exports, \"uriCollectionPage\", () => $8f8ed8369fbedf5d$export$36dfaec04418caa7);\n$parcel$export(module.exports, \"LevelPrivacy\", () => $8f8ed8369fbedf5d$export$a3c073b335a47d60);\n$parcel$export(module.exports, \"PRIVACY_BADGE_STYLE\", () => $8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3);\n$parcel$export(module.exports, \"PRIVACY_BADGE_TEXT\", () => $8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f);\n$parcel$export(module.exports, \"startLoader\", () => $8f8ed8369fbedf5d$export$8afc507ca675ea0e);\n$parcel$export(module.exports, \"cancelLoader\", () => $8f8ed8369fbedf5d$export$81e46b314cb8d8e3);\n$parcel$export(module.exports, \"callJsonApi\", () => $8f8ed8369fbedf5d$export$997d30e836e5c567);\n$parcel$export(module.exports, \"looksLikeMail\", () => $8f8ed8369fbedf5d$export$706cf9fcefe67c8e);\n$parcel$export(module.exports, \"activateGoHomeLink\", () => $8f8ed8369fbedf5d$export$3fc781af82c0c660);\n$parcel$export(module.exports, \"isSafari\", () => $8f8ed8369fbedf5d$export$95df08bae54cb4df);\n$parcel$export(module.exports, \"MEDIA_CONSTRAINTS\", () => $8f8ed8369fbedf5d$export$2464c9e69777d386);\n\nvar $9QUIF = parcelRequire(\"9QUIF\");\nconst $8f8ed8369fbedf5d$export$29456ccb00e38680 = \"loader\";\nconst $8f8ed8369fbedf5d$export$ff3ad29dbb546598 = \"/index.html?userid=\";\nconst $8f8ed8369fbedf5d$export$36dfaec04418caa7 = \"/index.html?collectionid=\";\nconst $8f8ed8369fbedf5d$export$eb3485a690c2f0b8 = Object.freeze({\n    none: 0,\n    owner: 1,\n    admin: 2,\n    member: 3,\n    guest: 4\n});\nconst $8f8ed8369fbedf5d$export$a3c073b335a47d60 = Object.freeze({\n    public: 1,\n    onlyreg: 2,\n    private: 3\n});\nconst $8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3 = {\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.public]: \"badge-public\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.onlyreg]: \"badge-onlyreg\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.private]: \"badge-private\"\n};\nconst $8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f = {\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.public]: \"PUBLIC\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.onlyreg]: \"REG USERS\",\n    [$8f8ed8369fbedf5d$export$a3c073b335a47d60.private]: \"PRIVATE\"\n};\nconst $8f8ed8369fbedf5d$export$8afc507ca675ea0e = (loaderId, loadingMessage)=>{\n    const loaderElement = document.getElementById(loaderId);\n    loaderElement.nextElementSibling.textContent = loadingMessage;\n    loaderElement.classList.add(loaderId);\n};\nconst $8f8ed8369fbedf5d$export$81e46b314cb8d8e3 = (loaderId)=>{\n    const loaderElement = document.getElementById(loaderId);\n    loaderElement.classList.remove(loaderId);\n    loaderElement.nextElementSibling.textContent = \"\";\n};\nconst $8f8ed8369fbedf5d$export$997d30e836e5c567 = async (apimethod, rqstmethod, body)=>{\n    const request = {\n        method: rqstmethod || \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        }\n    };\n    if (body) request.body = JSON.stringify(body);\n    try {\n        $8f8ed8369fbedf5d$export$8afc507ca675ea0e($8f8ed8369fbedf5d$export$29456ccb00e38680, \"Loading...\");\n        const sendRqst = await fetch((0, $9QUIF.ENDPOINT) + apimethod, request);\n        $8f8ed8369fbedf5d$export$81e46b314cb8d8e3($8f8ed8369fbedf5d$export$29456ccb00e38680);\n        const respToJson = await sendRqst.json();\n        if (respToJson && !respToJson.error) return respToJson;\n        else return respToJson?.error || \"An error occurred\";\n    } catch (error) {\n        $8f8ed8369fbedf5d$export$81e46b314cb8d8e3($8f8ed8369fbedf5d$export$29456ccb00e38680);\n        return error;\n    }\n};\nconst $8f8ed8369fbedf5d$export$706cf9fcefe67c8e = (str)=>{\n    const lastAtPos = str.lastIndexOf(\"@\");\n    const lastDotPos = str.lastIndexOf(\".\");\n    return lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf(\"@@\") == -1 && lastDotPos > 2 && str.length - lastDotPos > 2;\n};\nconst $8f8ed8369fbedf5d$export$3fc781af82c0c660 = ()=>{\n    const goHomeLink = document.getElementById(\"goHome\");\n    if (window.location.host === \"localhost:80\" || window.location.origin === \"http://localhost\") goHomeLink.href = window.location.origin + \"/index.html\";\n    else goHomeLink.href = window.location.origin;\n};\nconst $8f8ed8369fbedf5d$export$95df08bae54cb4df = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nconst $8f8ed8369fbedf5d$export$2464c9e69777d386 = {\n    audio: {\n        echoCancellation: false,\n        noiseSuppression: false,\n        autoGainControl: false,\n        latency: 0,\n        channelCount: 1\n    }\n};\n\n});\nparcelRegister(\"9QUIF\", function(module, exports) {\nconst $72c4f7ae54bd3a1f$var$MODE = \"STAGE\" // STAGE\n;\nconst $72c4f7ae54bd3a1f$var$ENVIRONMENTS = {\n    PROD: {\n        ENDPOINT: \"\",\n        UPLOAD_ENDPOINT: \"\"\n    },\n    STAGE: {\n        ENDPOINT: window.location.protocol + \"//\" + window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol + \"//\" + window.location.host + \"/fileUpload\"\n    },\n    DEV: {\n        ENDPOINT: window.location.protocol + \"//\" + window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol + \"//\" + window.location.host + \"/fileUpload\"\n    }\n};\nmodule.exports = {\n    ENDPOINT: $72c4f7ae54bd3a1f$var$ENVIRONMENTS[$72c4f7ae54bd3a1f$var$MODE].ENDPOINT,\n    UPLOAD_ENDPOINT: $72c4f7ae54bd3a1f$var$ENVIRONMENTS[$72c4f7ae54bd3a1f$var$MODE].UPLOAD_ENDPOINT\n};\n\n});\n\n\nparcelRegister(\"4TAOB\", function(module, exports) {\n\n$parcel$export(module.exports, \"setCanvasData\", () => $3908db37c08cb4c3$export$d4c23ad8b5f39249);\n$parcel$export(module.exports, \"ButtonHandlers\", () => $3908db37c08cb4c3$export$eedb6fa14a8fbf3);\n$parcel$export(module.exports, \"mediaRecorderStopUI\", () => $3908db37c08cb4c3$export$8e4678bb25c40945);\nconst $3908db37c08cb4c3$var$canvasRealTime = document.querySelector(\".visualizer-test-mic\");\nconst $3908db37c08cb4c3$var$canvasCtx = $3908db37c08cb4c3$var$canvasRealTime.getContext(\"2d\");\nconst $3908db37c08cb4c3$var$mainSection = document.querySelector(\".main-controls-test-mic\");\nconst $3908db37c08cb4c3$export$d4c23ad8b5f39249 = (bufferLength, dataArray)=>{\n    $3908db37c08cb4c3$var$canvasRealTime.width = $3908db37c08cb4c3$var$mainSection.offsetWidth;\n    const WIDTH = $3908db37c08cb4c3$var$canvasRealTime.width;\n    const HEIGHT = $3908db37c08cb4c3$var$canvasRealTime.height;\n    $3908db37c08cb4c3$var$canvasCtx.fillStyle = \"rgb(200, 200, 200)\";\n    $3908db37c08cb4c3$var$canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\n    $3908db37c08cb4c3$var$canvasCtx.lineWidth = 2;\n    $3908db37c08cb4c3$var$canvasCtx.strokeStyle = \"rgb(0, 0, 0)\";\n    $3908db37c08cb4c3$var$canvasCtx.beginPath();\n    let sliceWidth = WIDTH * 1.0 / bufferLength;\n    let x = 0;\n    for(let i = 0; i < bufferLength; i++){\n        let v = dataArray[i] / 128.0;\n        let y = v * HEIGHT / 2;\n        if (i === 0) $3908db37c08cb4c3$var$canvasCtx.moveTo(x, y);\n        else $3908db37c08cb4c3$var$canvasCtx.lineTo(x, y);\n        x += sliceWidth;\n    }\n    $3908db37c08cb4c3$var$canvasCtx.lineTo($3908db37c08cb4c3$var$canvasRealTime.width, $3908db37c08cb4c3$var$canvasRealTime.height / 2);\n    $3908db37c08cb4c3$var$canvasCtx.stroke();\n};\nclass $3908db37c08cb4c3$export$eedb6fa14a8fbf3 {\n    constructor(mediaRecorder, testMic){\n        this.mediaRecorder = mediaRecorder;\n        this.testMic = testMic;\n        this.recordButton = document.querySelector(\".record-test-mic\");\n        this.stopButton = document.querySelector(\".stop-test-mic\");\n    }\n    init() {\n        this.stopButton.disabled = true;\n        this.recordButton.onclick = this.recorButtonClick.bind(this);\n        this.stopButton.onclick = this.stopButtonClick.bind(this);\n    }\n    async recorButtonClick() {\n        await this.testMic.connectSource();\n        this.mediaRecorder.start();\n        this.recordButton.style.background = \"red\";\n        this.stopButton.disabled = false;\n        this.recordButton.disabled = true;\n    }\n    stopButtonClick() {\n        this.mediaRecorder.stop();\n        this.recordButton.style.background = \"\";\n        this.recordButton.style.color = \"\";\n        this.stopButton.disabled = true;\n        this.recordButton.disabled = false;\n        this.testMic.disconnectSource();\n    }\n}\nconst $3908db37c08cb4c3$export$8e4678bb25c40945 = (audioURL)=>{\n    const audioElem = document.querySelector(\".audio-test-mic\");\n    if (!audioElem) {\n        const clipContainer = $3908db37c08cb4c3$var$createClipContainer(audioURL);\n        const soundClips = document.querySelector(\".sound-clips-test-mic\");\n        soundClips.appendChild(clipContainer);\n    } else audioElem.src = audioURL;\n};\nconst $3908db37c08cb4c3$var$createClipContainer = (audioURL)=>{\n    const clipLabel = $3908db37c08cb4c3$var$createClipNameLabel();\n    const audioElem = $3908db37c08cb4c3$var$createAudioElem(audioURL);\n    const deleteButton = $3908db37c08cb4c3$var$createDeleteButton();\n    const clipContainer = document.createElement(\"article\");\n    clipContainer.classList.add(\"clip-test-mic\");\n    clipContainer.appendChild(audioElem);\n    clipContainer.appendChild(clipLabel);\n    clipContainer.appendChild(deleteButton);\n    return clipContainer;\n};\nconst $3908db37c08cb4c3$var$createClipNameLabel = ()=>{\n    const clipName = \"test (\" + new Date().toLocaleTimeString() + \")\";\n    const clipLabel = document.createElement(\"span\");\n    clipLabel.textContent = clipName;\n    return clipLabel;\n};\nconst $3908db37c08cb4c3$var$createAudioElem = (audioURL)=>{\n    const audioElem = document.createElement(\"audio\");\n    audioElem.setAttribute(\"controls\", \"\");\n    audioElem.classList.add(\"audio-test-mic\");\n    audioElem.controls = true;\n    audioElem.src = audioURL;\n    return audioElem;\n};\nconst $3908db37c08cb4c3$var$createDeleteButton = ()=>{\n    const deleteButton = document.createElement(\"button\");\n    deleteButton.textContent = \"Delete\";\n    deleteButton.className = \"button-test-mic delete\";\n    deleteButton.onclick = function(e) {\n        e.target.closest(\".clip-test-mic\").remove();\n    };\n    return deleteButton;\n};\n\n});\n\n\n\nparcelRequire(\"04BFj\");\n\n//# sourceMappingURL=composition.a3b859de.js.map\n","import { isSafari } from '../../../../common/js/utils'\nimport { setCanvasData, ButtonHandlers, mediaRecorderStopUI } from './webdictaphone_ui'\n\n/* SOURCE: https://github.com/mdn/dom-examples/blob/main/media/web-dictaphone */\n\nconst gainSlider = document.getElementById('gainSliderTestMic')\n\nexport class TestMic {\n    \n    constructor() {\n        this.CURRENT_GAIN_TEST_MIC = 1\n        this.audioCtxTestMic = null\n        this.analyser = null\n        this.gainNode = null\n        this.recordGainNode = null\n        this.buttonHandlers = null\n    }  \n\n    init(recordGainNode){\n        \n        const me  = this\n        \n        if (navigator.mediaDevices.getUserMedia) {\n\n            const constraints = { audio: { echoCancellation: false, noiseSuppression: false, autoGainControl: false } }\n\n            const onSuccess = function (stream) {\n                me.recordGainNode = recordGainNode\n                me.getUserMediaOnSuccess(stream)\n            }\n\n            const onError = function (err) {\n                console.log('The following error occured: ' + err)\n            }\n\n            navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError)\n\n        } else {\n            console.log('MediaDevices.getUserMedia() not supported on your browser!')\n        }\n    }\n    getUserMediaOnSuccess(stream){\n\n        const micGain = localStorage.getItem('micgain')\n        this.CURRENT_GAIN_TEST_MIC = micGain ? parseInt(micGain) : this.CURRENT_GAIN_TEST_MIC\n        \n        if (!this.audioCtxTestMic) {\n            this.audioCtxTestMic = new AudioContext()\n        }\n    \n        const micsource = this.audioCtxTestMic.createMediaStreamSource(stream)\n    \n        this.gainNode = this.audioCtxTestMic.createGain()\n        this.gainNode.gain.value = this.CURRENT_GAIN_TEST_MIC\n    \n        micsource.connect(this.gainNode)\n        this.analyser = this.audioCtxTestMic.createAnalyser()\n        this.analyser.fftSize = 2048\n        this.gainNode.connect(this.analyser)\n        const dest = this.audioCtxTestMic.createMediaStreamDestination()\n        this.gainNode.connect(dest)\n        const mediaRecorder = new MediaRecorder(dest.stream)\n    \n        this.draw()\n        this.buttonHandlers = new ButtonHandlers(mediaRecorder, this)\n        this.buttonHandlers.init()\n        this.mediaRecoderHandlers(mediaRecorder)\n        this.uiHandlers()\n    }\n    mediaRecoderHandlers(mediaRecorder){\n        let chunks = []\n        mediaRecorder.onstop = function (event) {\n            const blob = new Blob(chunks, { type: mediaRecorder.mimeType })\n            chunks = []\n            const audioURL = window.URL.createObjectURL(blob)\n            mediaRecorderStopUI(audioURL)\n        }\n        mediaRecorder.ondataavailable = function (e) {\n            chunks.push(e.data)\n        }\n    }\n    draw(){\n        const me  = this\n        const bufferLength = this.analyser.frequencyBinCount\n        const dataArray = new Uint8Array(bufferLength)\n        this.analyser.getByteTimeDomainData(dataArray)\n        setCanvasData(bufferLength, dataArray)\n        requestAnimationFrame(() => {\n            me.draw()\n        })\n    }\n    async connectSource(){\n        this.analyser.connect(this.audioCtxTestMic.destination)\n        if (isSafari) {\n            console.log(`Audio context state change: ${this.audioCtxTestMic.state}`)\n            if (this.audioCtxTestMic.state === 'suspended') {\n                await this.audioCtxTestMic.resume()\n            }\n        }\n    }\n    disconnectSource(){\n        this.analyser.disconnect()\n    }\n    uiHandlers(){\n        const me = this\n        $('#testMicrophoneModal').on('show.bs.modal', (event) => {\n            gainSlider.value = me.CURRENT_GAIN_TEST_MIC\n            document.getElementById('current-input-gain-test-mic').value = me.CURRENT_GAIN_TEST_MIC\n        })\n        $('#testMicrophoneModal').on('hide.bs.modal', async (event) => {\n            me.buttonHandlers.stopButtonClick()\n            me.analyser.disconnect()\n        })\n        \n        gainSlider.addEventListener('input', function () {\n            const newGainValue = parseFloat(this.value)\n            me.CURRENT_GAIN_TEST_MIC = newGainValue\n            me.gainNode.gain.value = newGainValue\n            me.recordGainNode.gain.value = newGainValue\n            localStorage.setItem('micgain', newGainValue)\n            document.getElementById('current-input-gain-test-mic').value = newGainValue\n        })\n    }\n}","import { ENDPOINT } from './config'\n\nexport const LOADER_ELEM_ID = 'loader'\n\nexport const uriUserPage = '/index.html?userid='\nexport const uriCollectionPage = '/index.html?collectionid='\n\nexport const UserRole = Object.freeze({\n    none : 0,\n    owner : 1,\n    admin : 2,\n    member : 3,\n    guest : 4\n})\n\nexport const LevelPrivacy = Object.freeze({\n    public : 1,\n    onlyreg : 2,\n    private : 3\n})\n\nexport const PRIVACY_BADGE_STYLE = {[LevelPrivacy.public] : 'badge-public', [LevelPrivacy.onlyreg] : 'badge-onlyreg', [LevelPrivacy.private] : 'badge-private'}\nexport const PRIVACY_BADGE_TEXT = {[LevelPrivacy.public] : 'PUBLIC', [LevelPrivacy.onlyreg] : 'REG USERS', [LevelPrivacy.private] : 'PRIVATE'}\n\nexport const startLoader = (loaderId, loadingMessage) => {    \n    const loaderElement = document.getElementById(loaderId)    \n    loaderElement.nextElementSibling.textContent = loadingMessage\n    loaderElement.classList.add(loaderId)\n}\n\nexport const cancelLoader = (loaderId) => {\n    const loaderElement = document.getElementById(loaderId)\n    loaderElement.classList.remove(loaderId)\n    loaderElement.nextElementSibling.textContent = ''\n}\n\nexport const callJsonApi = async (apimethod, rqstmethod, body) => {\n    const request = {\n        method: rqstmethod || 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        }\n    }\n    if(body){\n        request.body = JSON.stringify(body)\n    }\n    try {\n        startLoader(LOADER_ELEM_ID, 'Loading...')\n        const sendRqst = await fetch(ENDPOINT + apimethod, request)\n        cancelLoader(LOADER_ELEM_ID)\n        const respToJson = await sendRqst.json()\n        if (respToJson && !respToJson.error) {\n            returnÂ respToJson\n        } else {\n            return (respToJson?.error || 'An error occurred')\n        }\n    } catch (error) {\n        cancelLoader(LOADER_ELEM_ID)\n        return(error)\n    }\n}\n\n/* https://stackoverflow.com/a/5166806 */\nexport const looksLikeMail = (str) => {\n    const lastAtPos = str.lastIndexOf('@')\n    const lastDotPos = str.lastIndexOf('.')\n    return (lastAtPos < lastDotPos && lastAtPos > 0 && str.indexOf('@@') == -1 && lastDotPos > 2 && (str.length - lastDotPos) > 2)\n}\n\nexport const activateGoHomeLink = () => {\n    const goHomeLink = document.getElementById('goHome')\n    if(window.location.host === 'localhost:80' || window.location.origin === 'http://localhost'){\n        goHomeLink.href = window.location.origin + '/index.html'\n    } else {\n        goHomeLink.href = window.location.origin\n    }\n}\n\nexport const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n\nexport const MEDIA_CONSTRAINTS = { audio: {echoCancellation:false, noiseSuppression:false, autoGainControl:false, latency: 0, channelCount: 1 }}","const MODE = 'STAGE' // STAGE\n\nconst ENVIRONMENTS = {\n    PROD:{        \n        ENDPOINT:'',\n        UPLOAD_ENDPOINT:''        \n    },\n    STAGE:{        \n        ENDPOINT: window.location.protocol+'//'+window.location.host,\n        UPLOAD_ENDPOINT: window.location.protocol+'//'+window.location.host+'/fileUpload'       \n    },\n    DEV:{        \n        ENDPOINT:window.location.protocol+'//'+window.location.host,\n        UPLOAD_ENDPOINT:window.location.protocol+'//'+window.location.host + '/fileUpload'        \n    }\n}\n\nmodule.exports = {    \n    ENDPOINT: ENVIRONMENTS[MODE].ENDPOINT,\n    UPLOAD_ENDPOINT: ENVIRONMENTS[MODE].UPLOAD_ENDPOINT\n}","const canvasRealTime = document.querySelector('.visualizer-test-mic')\nconst canvasCtx = canvasRealTime.getContext('2d')\nconst mainSection = document.querySelector('.main-controls-test-mic')\n\nexport const setCanvasData = (bufferLength, dataArray) => {\n    canvasRealTime.width = mainSection.offsetWidth\n    const WIDTH = canvasRealTime.width\n    const HEIGHT = canvasRealTime.height\n\n    canvasCtx.fillStyle = 'rgb(200, 200, 200)'\n    canvasCtx.fillRect(0, 0, WIDTH, HEIGHT)\n\n    canvasCtx.lineWidth = 2\n    canvasCtx.strokeStyle = 'rgb(0, 0, 0)'\n\n    canvasCtx.beginPath()\n\n    let sliceWidth = (WIDTH * 1.0) / bufferLength\n    let x = 0\n\n    for (let i = 0; i < bufferLength; i++) {\n        let v = dataArray[i] / 128.0\n        let y = (v * HEIGHT) / 2\n\n        if (i === 0) {\n            canvasCtx.moveTo(x, y)\n        } else {\n            canvasCtx.lineTo(x, y)\n        }\n\n        x += sliceWidth\n    }\n\n    canvasCtx.lineTo(canvasRealTime.width, canvasRealTime.height / 2)\n    canvasCtx.stroke()\n}\n\nexport class ButtonHandlers {\n    constructor(mediaRecorder, testMic) {\n        this.mediaRecorder = mediaRecorder\n        this.testMic = testMic\n        this.recordButton = document.querySelector('.record-test-mic')\n        this.stopButton = document.querySelector('.stop-test-mic')\n    }\n    init() {\n        this.stopButton.disabled = true\n        this.recordButton.onclick = this.recorButtonClick.bind(this)\n        this.stopButton.onclick = this.stopButtonClick.bind(this)\n    }\n    async recorButtonClick() {\n        await this.testMic.connectSource()\n        this.mediaRecorder.start()\n        this.recordButton.style.background = 'red'\n        this.stopButton.disabled = false\n        this.recordButton.disabled = true\n    }\n    stopButtonClick() {\n        this.mediaRecorder.stop()\n        this.recordButton.style.background = ''\n        this.recordButton.style.color = ''\n        this.stopButton.disabled = true\n        this.recordButton.disabled = false\n        this.testMic.disconnectSource()\n    }\n}\n\n\nexport const mediaRecorderStopUI = (audioURL) => {\n    const audioElem = document.querySelector('.audio-test-mic')\n    if(!audioElem){\n        const clipContainer = createClipContainer(audioURL)\n        const soundClips = document.querySelector('.sound-clips-test-mic')\n        soundClips.appendChild(clipContainer)\n    } else {\n        audioElem.src = audioURL\n    }\n}\n\nconst createClipContainer = (audioURL) => {\n\n    const clipLabel = createClipNameLabel()\n    const audioElem = createAudioElem(audioURL)\n    const deleteButton = createDeleteButton()\n\n    const clipContainer = document.createElement('article')\n    clipContainer.classList.add('clip-test-mic')\n    clipContainer.appendChild(audioElem)\n    clipContainer.appendChild(clipLabel)\n    clipContainer.appendChild(deleteButton)\n\n    return clipContainer\n}\n\nconst createClipNameLabel = () => {\n    const clipName = 'test (' + new Date().toLocaleTimeString() + ')'   \n    const clipLabel = document.createElement('span')\n    clipLabel.textContent = clipName\n    return clipLabel\n}\n\nconst createAudioElem = (audioURL) => {\n    const audioElem = document.createElement('audio')\n    audioElem.setAttribute('controls', '')\n    audioElem.classList.add('audio-test-mic')\n    audioElem.controls = true\n    audioElem.src = audioURL\n    return audioElem\n}\n\nconst createDeleteButton = () => {\n    const deleteButton = document.createElement('button')\n    deleteButton.textContent = 'Delete'\n    deleteButton.className = 'button-test-mic delete'\n    deleteButton.onclick = function (e) {\n        e.target.closest('.clip-test-mic').remove()\n    }\n    return deleteButton\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$00dd97663630ab9a$export$a131b61ceae72f7a","$ck9ES","$4TAOB","$00dd97663630ab9a$var$gainSlider","document","getElementById","constructor","CURRENT_GAIN_TEST_MIC","audioCtxTestMic","analyser","gainNode","recordGainNode","buttonHandlers","me","navigator","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","then","stream","getUserMediaOnSuccess","console","log","micGain","localStorage","getItem","parseInt","AudioContext","micsource","createMediaStreamSource","createGain","gain","value","connect","createAnalyser","fftSize","dest","createMediaStreamDestination","mediaRecorder","MediaRecorder","draw","ButtonHandlers","mediaRecoderHandlers","uiHandlers","chunks","onstop","event","blob","Blob","type","mimeType","audioURL","window","URL","createObjectURL","mediaRecorderStopUI","ondataavailable","push","data","bufferLength","frequencyBinCount","dataArray","Uint8Array","getByteTimeDomainData","setCanvasData","requestAnimationFrame","connectSource","destination","isSafari","state","resume","disconnectSource","disconnect","$","on","stopButtonClick","addEventListener","newGainValue","parseFloat","setItem","$8f8ed8369fbedf5d$export$29456ccb00e38680","$8f8ed8369fbedf5d$export$ff3ad29dbb546598","$8f8ed8369fbedf5d$export$36dfaec04418caa7","$8f8ed8369fbedf5d$export$a3c073b335a47d60","$8f8ed8369fbedf5d$export$eba8c17f4d7a3cd3","$8f8ed8369fbedf5d$export$ab4fdfae3dcd1a8f","$8f8ed8369fbedf5d$export$8afc507ca675ea0e","$8f8ed8369fbedf5d$export$81e46b314cb8d8e3","$8f8ed8369fbedf5d$export$997d30e836e5c567","$8f8ed8369fbedf5d$export$706cf9fcefe67c8e","$8f8ed8369fbedf5d$export$3fc781af82c0c660","$8f8ed8369fbedf5d$export$95df08bae54cb4df","$8f8ed8369fbedf5d$export$2464c9e69777d386","$9QUIF","freeze","none","owner","admin","member","guest","public","onlyreg","private","loaderId","loadingMessage","loaderElement","nextElementSibling","textContent","classList","add","remove","apimethod","rqstmethod","body","request","method","headers","JSON","stringify","sendRqst","fetch","ENDPOINT","respToJson","json","error","str","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","goHomeLink","location","host","origin","href","test","userAgent","latency","channelCount","$72c4f7ae54bd3a1f$var$MODE","$72c4f7ae54bd3a1f$var$ENVIRONMENTS","PROD","UPLOAD_ENDPOINT","STAGE","protocol","DEV","$3908db37c08cb4c3$export$d4c23ad8b5f39249","$3908db37c08cb4c3$export$eedb6fa14a8fbf3","$3908db37c08cb4c3$export$8e4678bb25c40945","$3908db37c08cb4c3$var$canvasRealTime","querySelector","$3908db37c08cb4c3$var$canvasCtx","getContext","$3908db37c08cb4c3$var$mainSection","width","offsetWidth","WIDTH","HEIGHT","height","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","y","moveTo","lineTo","stroke","testMic","recordButton","stopButton","disabled","onclick","recorButtonClick","bind","start","style","background","stop","color","audioElem","src","clipContainer","$3908db37c08cb4c3$var$createClipContainer","soundClips","appendChild","clipLabel","$3908db37c08cb4c3$var$createClipNameLabel","$3908db37c08cb4c3$var$createAudioElem","deleteButton","$3908db37c08cb4c3$var$createDeleteButton","createElement","clipName","Date","toLocaleTimeString","setAttribute","controls","className","target","closest"],"version":3,"file":"composition.a3b859de.js.map"}