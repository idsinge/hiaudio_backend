function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t=globalThis,i={},n={},a=t.parcelRequire1e7e;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequire1e7e=a);var r=a.register;r("04BFj",function(t,i){e(t.exports,"TestMic",()=>s);var n=a("4TAOB");let r=document.getElementById("gainSliderTestMic");class s{constructor(){this.CURRENT_GAIN_TEST_MIC=1,this.audioCtxTestMic=null,this.analyser=null,this.recordGainNode=null}init(e,t){this.recordGainNode=e,this.audioCtxTestMic=t,this.getUserMediaOnSuccess()}getUserMediaOnSuccess(){let e=localStorage.getItem("micgain");this.CURRENT_GAIN_TEST_MIC=e?parseInt(e):this.CURRENT_GAIN_TEST_MIC,this.analyser=this.audioCtxTestMic.createAnalyser(),this.analyser.fftSize=2048,this.recordGainNode.connect(this.analyser),this.draw(),this.uiHandlers()}draw(){let e=this,t=this.analyser.frequencyBinCount,i=new Uint8Array(t);this.analyser.getByteTimeDomainData(i),(0,n.setCanvasData)(t,i),requestAnimationFrame(()=>{e.draw()})}async connectSource(){this.analyser.connect(this.audioCtxTestMic.destination)}disconnectSource(){this.analyser.disconnect()}uiHandlers(){let e=this;$("#testMicrophoneModal").on("show.bs.modal",t=>{r.value=e.CURRENT_GAIN_TEST_MIC,document.getElementById("current-input-gain-test-mic").value=e.CURRENT_GAIN_TEST_MIC}),$("#testMicrophoneModal").on("hide.bs.modal",async t=>{e.analyser.disconnect()}),r.addEventListener("input",function(){let t=parseFloat(this.value);e.CURRENT_GAIN_TEST_MIC=t,e.recordGainNode.gain.value=t,localStorage.setItem("micgain",t),document.getElementById("current-input-gain-test-mic").value=t})}}}),r("4TAOB",function(t,i){e(t.exports,"setCanvasData",()=>s);let n=document.querySelector(".visualizer-test-mic"),a=n.getContext("2d"),r=document.querySelector(".main-controls-test-mic"),s=(e,t)=>{n.width=r.offsetWidth;let i=n.width,s=n.height;a.fillStyle="rgb(200, 200, 200)",a.fillRect(0,0,i,s),a.lineWidth=2,a.strokeStyle="rgb(0, 0, 0)",a.beginPath();let o=1*i/e,l=0;for(let i=0;i<e;i++){let e=t[i]/128*s/2;0===i?a.moveTo(l,e):a.lineTo(l,e),l+=o}a.lineTo(n.width,n.height/2),a.stroke()}}),a("04BFj");
//# sourceMappingURL=composition.5992f7a3.js.map
